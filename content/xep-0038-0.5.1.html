<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>XEP-0038: Icon Styles</title><style type="text/css">
/* don't mind this hack */
nav#toc h2:before {
display: none;
content: "XEP-0038";
}
        </style><link rel="stylesheet" type="text/css" href="xmpp.css"><link href="prettify.css" type="text/css" rel="stylesheet"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><script type="text/javascript" src="prettify.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0"><meta name="DC.Title" content="Icon Styles"><meta name="DC.Creator" content="Adam Theo"><meta name="DC.Description" content="A protocol for specifying exchangeable styles of emoticons and genicons within Jabber IM clients."><meta name="DC.Publisher" content="XMPP Standards Foundation"><meta name="DC.Contributor" content="XMPP Extensions Editor"><meta name="DC.Date" content="2022-03-08"><meta name="DC.Type" content="XMPP Extension Protocol"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="XEP-0038"><meta name="DC.Language" content="en"><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright © 1999 – 2020 by the XMPP Standards Foundation (XSF)."></head><body onload="prettyPrint()"><h1>XEP-0038: Icon Styles</h1><div class="docmeta-wrap"><dl id="docmeta" class="compact"><dt>Abstract</dt><dd>A protocol for specifying exchangeable styles of emoticons and genicons within Jabber IM clients.</dd><dt>Author</dt><dd>Adam Theo</dd><dt>Copyright</dt><dd>© 1999 – 2021 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</dd><dt>Status</dt><dd><p>Obsolete</p><div id="status-notice" class="obsolete standards track">WARNING: This document has been obsoleted by the XMPP Standards Foundation. Implementation of the protocol described herein is not recommended. Developers desiring similar functionality are advised to implement the protocol that supersedes this one (Unicode, <a href="xep-0231.html">XEP-0231</a>).</div></dd><dt>Superseded By</dt><dd>Unicode, <a href="xep-0231.html">XEP-0231</a></dd><dt>Type</dt><dd>Standards Track</dd><dt>Version</dt><dd>0.5.1 (2022-03-08)</dd></dl><div class="timeline-wrap"><div class="timeline-head">Document Lifecycle</div><ol class="timeline"><li>Experimental</li><li>Proposed</li><li>Stable</li><li>Final</li><li>Deprecated</li><li class="current">Obsolete</li></ol></div></div><nav id="toc"><a href="#top"><h2>Table of Contents</h2></a><ol class="toc"><li><a href="#sect-idm59">Introduction</a></li><li><a href="#sect-idm68">Requirements</a></li><li><a href="#sect-idm86">Discovery</a></li><li><a href="#sect-idm91">Specification</a><ol><li><a href="#sect-idm94">Definition File</a></li><li><a href="#sect-idm96">Meta Elements</a></li><li><a href="#sect-idm116">Text Strings</a><ol><li><a href="#sect-idm123">Internationalization</a></li><li><a href="#sect-idm128">Whitespace</a></li><li><a href="#sect-idm130">Case Sensitivity</a></li></ol></li><li><a href="#sect-idm133">Objects</a></li><li><a href="#sect-idm144">X Tags</a></li><li><a href="#sect-idm152">Hierarchy</a></li><li><a href="#sect-idm160">Packaging</a></li></ol></li><li><a href="#sect-idm167">Implementation Notes</a><ol><li><a href="#sect-idm169">Procedure</a></li><li><a href="#sect-idm180">Text Strings</a></li><li><a href="#sect-idm191">Objects</a></li><li><a href="#sect-idm214">Combining Styles</a></li><li><a href="#sect-idm216">Core Icons</a></li></ol></li><li><a href="#sect-idm273">Security Considerations</a></li><li><a href="#sect-idm275">IANA Considerations</a></li><li><a href="#sect-idm285">XMPP Registrar Considerations</a></li><li><a href="#sect-idm290">Formal Definition</a><ol><li><a href="#sect-idm291">Schema</a></li><li><a href="#sect-idm293">icondef.xml file example</a></li></ol></li><li><a href="#sect-idm295">Future Considerations</a></li></ol><h6><a href="#appendices">Appendices</a></h6><ol class="toc-appendices"><li><a href="#appendix-docinfo">Document Information</a></li><li><a href="#appendix-authorinfo">Author Information</a></li><li><a href="#appendix-legal">Legal Notices</a></li><li><a href="#appendix-xmpp">Relation to XMPP</a></li><li><a href="#appendix-discuss">Discussion Venue</a></li><li><a href="#appendix-conformance">Requirements Conformance</a></li><li><a href="#appendix-notes">Notes</a></li><li><a href="#appendix-revs">Revision History</a></li><li><a href="#appendix-biblatex">Bib(La)Tex Entry</a></li></ol></nav><h2 id="sect-idm59">1.
       Introduction<a class="anchor-link" href="#sect-idm59"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">This proposal standardizes the use of graphical emoticons and "genicons" in Jabber IM clients to prevent confusion and competing conventions that will soon arise, enabling client developers to spend their energy on more important parts of their projects.</p>
  <p class="" style=""><a href="http://www.wikipedia.com/wiki/Emoticon">Emoticons</a> are the text string 'smiley' or 'frowny' faces such as <code>:-)</code> and <code>:-(</code> that people often use in email or instant messaging to represent emotions. Genicons are a term being coined here to mean non-emotive text pictures (often called '<a href="http://en.wikipedia.org/wiki/ASCII_art">ASCII Art</a>') that serve to replace typing the full word or to simply be cute or creative in the conversation.</p>
  <p class="" style="">Many new Internet users demand graphical emoticon and genicon support in their IM clients. We should satisfy their needs if we ever wish to see them use Jabber instead of another IM system.</p>
  <p class="" style="">While traditionally emoticons and genicons have been typed and displayed as text, the recent trend of using graphics, and sometimes sounds, instead of text to represent these pictures will be assumed for purposes of this proposal. Also, the term "icon" will be used in place of "emoticon" and "genicon" for purposes of convenience.</p>
<h2 id="sect-idm68">2.
       Requirements<a class="anchor-link" href="#sect-idm68"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">The following issues must be solved for in this specification.</p>
  <ul class="" style="">
    <li class="" style=""><strong>Here and Now</strong>: The convention should not rely on technologies such as feature negotiation or generic pub/sub which do not exist yet in Jabber in order to work properly. The convention should be a "here and now" solution, relying only on the current Jabber protocol.</li>
    <li class="" style=""><strong>Meaningful</strong>: The convention for creating the icons must be meaningful to users of clients without icon support, or even users on the other side of transports. Whatever method is used, it should not be cryptic or difficult to understand in text-only mode, in case the user does not have or want the capability to view the icons.</li>
    <li class="" style=""><strong>Component Friendly</strong>: In order for gateways, bots, and other "semi-intelligent" components to be able to convert or otherwise use the specification (such as to and from the MSN icon style, or use icons in conversations with Artificially Intelligent bots), a specific list of icons must be possible. Since these bots do not have an intelligent human behind them deciding their every action, they cannot deal with unlimited possibilities.</li>
    <li class="" style=""><strong>Protect Privacy</strong>: Sender-defined external data must not be required to properly display the icons because it can be used by the sender to track the user, circumventing their privacy. When the sender can define their own graphics or sounds to be used for the icons, they can use unique URLs and monitor when these unique URLs are accessed. External data may be allowed as long as it is not required for proper use of the icons, but it would be best to leave external data completely out of the system.</li>
    <li class="" style=""><strong>Conserve Bandwidth</strong>: The amount of markup used within the messages to define the icons should be kept to a minimum, as well as keeping the media files used for the icons from being transferred over the wire with the messages themselves. These easily consume too much bandwidth, a precious resource to most of the Internet.</li>
    <li class="" style=""><strong>Be Passive</strong>: The convention should not force transports or recipients to take any action to properly display the icons. Not only does it put extra strain on the components, but it would also unnecessarily break old clients. Transports and recieving clients may have the option of taking some actions, but they should not be forced to.</li>
    <li class="" style=""><strong>Internationalization</strong>: The convention must be inherently international in order to ease adoption of Jabber throughout the world and prevent later growing pains. The use of English must be kept to a minimum, restricted to "meta information" about the icons themselves, and must dynamically allow for non-English language sets.</li>
  </ul>
  <p class="" style="">Because icons in Jabber should be easy to use, extensible, and customizable, they will be created using style definition files which can be exchanged between users and supporting clients. The specification will not allow external data, in order to protect the privacy of users, and will not rely on file transfers or directory services in order to not break old clients or components.</p>
<h2 id="sect-idm86">3.
       Discovery<a class="anchor-link" href="#sect-idm86"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">To find out if an entity supports Jabber Icon Styles, look for the feature category of <code>http://jabber.org/protocol/icon-styles</code> using <code>jabber:iq:browse</code> or <code>http://jabber.org/protocol/disco</code>. The same feature category can be used with feature negotiation.</p>
<h2 id="sect-idm91">4.
       Specification<a class="anchor-link" href="#sect-idm91"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">Because icons in Jabber should be easy to use, extensible, and customizable, they will be created using style definition files which can be exchanged between users and supporting clients. The specification will not require external data, in order to protect the privacy of users, and will not rely on file transfers or directory services in order to not break old clients or components. How these icon styles are exchanged - as well as advertised - is out of the scope of this specification. The text strings representing the icons will be sent like any other text (this document doesn't require extra tags or attributes in the messages being sent).</p>
  <p class="" style="">All icons are created by defining each icon then grouping them together into "Icon Definition Files". These files, along with the object files associated with the icons, are called "icon styles". Icon styles may be traded and shared among users of all supporting clients like skins or themes, similar to WinAmp, XMMS, GNOME, and other customizable applications. This creates a platform-independent system, providing a great degree of customization for the user, and allowing client developers to focus on other features.</p>

  <div class="indent"><h3 id="sect-idm94">4.1 Definition File<a class="anchor-link" href="#sect-idm94"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">Each icon in a style is defined and grouped together in an XML document, the "Icon Definition File". Each definition file for all styles is named "icondef.xml". There is only one such Icon Definition File per style. The W3C Schema for the Icon Definition File plus an example finished Icon Definition File can be found under Schema, below.</p>
  </div>

  <div class="indent"><h3 id="sect-idm96">4.2 Meta Elements<a class="anchor-link" href="#sect-idm96"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The meta elements contain information about the Icon Style itself, rather that the individual icons. They are contained within the <code>&lt;meta&gt;</code> element, which is directly under the root element. There is one and only one the <code>&lt;meta&gt;</code> element.</p>
    <ul class="" style="">
      <li class="" style=""><strong>Name</strong>: This is an arbitrary text string (spaces allowed) which is the full name of the Icon Style. Only one name can be included.</li>
      <li class="" style=""><strong>Version</strong>: This is an arbitrary text string (no spaces allowed) which is the version number of the Icon Style. Any version format is allowed, but the <code>major.minor</code> or <code>major.minor.trivial</code> formats are recommended. Only one version can be included.</li>
      <li class="" style=""><strong>Description</strong>: This is the full description of the Icon Style. It summarizes the look and types of the icons, and can be used for keywords in searching. This is optional, but recommended.</li>
      <li class="" style=""><strong>Author</strong>: This is the full name of the author. Multiple authors are allowed.</li>
      <li class="" style=""><strong>Creation</strong>: This is the date of the creation of this version of the Icon Style. The date is in the <a href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> standard format.</li>
      <li class="" style=""><strong>Home</strong>: This is the full HTTP web address of the Icon Style's homepage. This is optional.</li>
    </ul>
  </div>

  <div class="indent"><h3 id="sect-idm116">4.3 Text Strings<a class="anchor-link" href="#sect-idm116"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The <code>&lt;text/&gt;</code> element defines what text string(s) are recognized by the client as an icon. There may be multiple <code>&lt;text/&gt;</code> elements in an <code>&lt;icon/&gt;</code>, such as for different languages or simply for multiple text strings producing the same result (for example: <code>:-)</code> and <code>:)</code>)</p>

    <div class="indent"><h4 id="sect-idm123">4.3.1 Internationalization<a class="anchor-link" href="#sect-idm123"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">Each may have an <code>xml:lang</code> attribute, as defined in Section 2.12 in the official <a href="http://www.w3.org/TR/REC-xml#sec-lang-tag">XML 1.0 reference document</a>. The <code>xml:lang</code> attribute allows for two-letter language codes, dialects, and custom "languages" to define foreign IM protocols, for example.</p>
    </div>

    <div class="indent"><h4 id="sect-idm128">4.3.2 Whitespace<a class="anchor-link" href="#sect-idm128"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">In order to be more accurate in recognizing text strings intended to be icons from those that are just coincidences in normal conversation, the client should follow the "whitespace rule" of making sure there is some form of whitespace on at least one side of the text string. This is only a guideline; individual clients can implement different rules as needed. A newline and tabs count as whitespace in addition to spaces. This is to make sure that chunks of code and URIs are not accidentally converted into graphical pictures. Also, text strings cannot include newlines or tabs. All characters must be on the same line with only spaces within the string, and extra spaces should not be ignored. This is to make it much easier on text parsers looking for these text strings.</p>
    </div>

    <div class="indent"><h4 id="sect-idm130">4.3.3 Case Sensitivity<a class="anchor-link" href="#sect-idm130"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">The text strings must be case sensitive. This is a rule that compliant clients must follow. "Cat" cannot be used in place of "cat" or "CAT". All three are separate text strings, and therefore must have separate <code>&lt;text/&gt;</code> elements, although they may of course use the same objects.</p>
    </div>
  </div>

  <div class="indent"><h3 id="sect-idm133">4.4 Objects<a class="anchor-link" href="#sect-idm133"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The <code>&lt;object/&gt;</code> element defines what multimedia objects are inserted into the displayed message, replacing the text string(s) defined in <code>&lt;text/&gt;</code>. An object may be a bitmap graphic, vector graphic, audio clip, rich text formatting rules, or any other media that can be stored in a separate file. The <code>&lt;object/&gt;</code> element is identical to <a href="http://www.w3.org/TR/2003/WD-xhtml2-20030131/mod-object.html#s_objectmodule">the OBJECT element used in XHTML 2.0</a>, and the specification used there should be used to govern the <code>&lt;object/&gt;</code> element here. Note that because the XHTML 2.0 OBJECT specification is quite complex (although very flexible and future-proof), client developers are encouraged to only implement compliant sub-sets of the OBJECT specification for their clients. There may be one or multiple <code>&lt;object/&gt;</code> elements in an <code>&lt;icon/&gt;</code>, such as for alternative file formats (such as <code>
 GIF</code> vs. <code>PNG</code>), or multiple objects to use at the same time (such as graphic and sound files).</p>
  </div>

  <div class="indent"><h3 id="sect-idm144">4.5 X Tags<a class="anchor-link" href="#sect-idm144"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The <code>&lt;x/&gt;</code> element allows any type of extensions to the <code>icondef.xml</code> file, such as to specify how the user's nickname can be colored in multi-user chat windows or defining additional data about the style or authors. Each must have an <code>xmlns</code> attribute with a namespace that the extension operates under. Multiple <code>&lt;x/&gt;</code> elements may be in the <code>&lt;icon/&gt;</code> or <code>&lt;icondef/&gt;</code> elements. This functionality is optional for clients to support, and clients should ignore all extensions they do not understand.</p>
  </div>

  <div class="indent"><h3 id="sect-idm152">4.6 Hierarchy<a class="anchor-link" href="#sect-idm152"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The <code>icondef.xml</code> file must all be located in the root directory, which is named after the style and version (example: <code>./happy_days-1.2</code> or <code>./gold_angelic-1.0.0</code>). There is only one root directory per style. The object files may either be in the root directory as well, or be in sub-directories for categorization and easier maintenance reasons. If sub-directories are used, they must match the URIs used in the <code>&lt;object/&gt;</code> element in the <code>icondef.xml</code> file.</p>

<figure class="code-example" id="example-1"><figcaption><strong>Example 1.</strong> Gold Angelic v1.0.0 Hierarchy Example<a class="anchor-link" href="#example-1"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
./gold_angelic-1.0.0
./gold_angelic-1.0.0/icondef.xml
./gold_angelic-1.0.0/alert.ogg
./gold_angelic-1.0.0/red-exclamation-mark.svg
./gold_angelic-1.0.0/shocked.svg
./gold_angelic-1.0.0/woman.svg
./gold_angelic-1.0.0/pngs/happy.png
./gold_angelic-1.0.0/pngs/sad.png
./gold_angelic-1.0.0/pngs/man.png
./gold_angelic-1.0.0/pngs/woman.png
./gold_angelic-1.0.0/wavs/boohoo.wav
./gold_angelic-1.0.0/wavs/choir.wav
./gold_angelic-1.0.0/wavs/alert.wav
</pre></figure>
  </div>

  <div class="indent"><h3 id="sect-idm160">4.7 Packaging<a class="anchor-link" href="#sect-idm160"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The <code>icondef.xml</code> file and all object files must be packaged in the <code>ZIP</code> format following the above hierarchy (the directory must exist in the package, with all files in it). The package must have the file extension <code>.jisp</code> (Jabber Icon Style Package), and the MIME type <code>application/vnd.jisp</code> as defined in the official <a href="http://www.iana.org/assignments/media-types/application/vnd.jisp">IANA registration</a>. This allows Jabber clients to automatically install icon styles through web browsers. When the client installs the package, it should probably be kept in the archived format, instead of unzipped. This not only saves disk space, but also makes the packages easier to manage and exchange.</p>
  </div>
<h2 id="sect-idm167">5.
       Implementation Notes<a class="anchor-link" href="#sect-idm167"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">Icons styles should be easy to create, distribute, and most importantly, use. The packaging and official MIME type helps with the first steps, but it is ultimately up to the client developers to fully support the specification and make sure it is easy for users to manage.</p>

   <div class="indent"><h3 id="sect-idm169">5.1 Procedure<a class="anchor-link" href="#sect-idm169"><abbr title="Link to this point in the document">¶</abbr></a></h3>
     <p class="" style="">The procedure for using Jabber icons is simple and straightforward.</p>
     <ol start="" class="" style="">
       <li class="" style="">The user installs and turns on ("activates") an icon style (using their client's GUI, most likely) they have received off the Internet or somewhere else.</li>
       <li class="" style="">The user selects the desired icon they wish to include in their message from their client's GUI (a drop-down list of installed icons, for example).</li>
       <li class="" style="">The client translates the selected icon into its main text string equivelent, which is found in the icon's <code>&lt;text&gt;</code> element. If there are multiple <code>&lt;text&gt;</code> elements, follow the procedure under "Text Strings", below.</li>
       <li class="" style="">The client sends the message with the text string to the intended recipient.</li>
       <li class="" style="">The recipient client receives the message with the text string.</li>
       <li class="" style="">If the recipient has an icon style activated that defines that text string, it is converted into the appropriate object. If there are multiple objects files for each icon, follow the procedure under "Object Files", below. If there are multiple icon styles installed which define that text string, follow the procedure under "Combining Styles", below. If the recipient does not have such an icon activated, then they simply see the text string without any changes.</li>
     </ol>
   </div>

  <div class="indent"><h3 id="sect-idm180">5.2 Text Strings<a class="anchor-link" href="#sect-idm180"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">Because icons may have multiple text strings associated with them, clients need to be able to figure out which one to use when a user selects the desired icon from their GUI. This is ultimately completely up to the implementation, but here is a suggestion:</p>
    <ol start="" class="" style="">
      <li class="" style="">First look for any text strings that are the same language as what the user is using (if the user is using english, then look for English text strings, ignoring languages like German or Simplified Chinese). Optionally, if the client is smart enough, it can instead look for text strings in the language that the intended recipient is using (using Browse/Disco or simply keeping track of languages used in an ongoing conversation). The language for text strings is found in the <code>xml:lang</code> attribute for <code>&lt;text/&gt;</code> elements.</li>
      <li class="" style="">If there are no text strings that match the user's language, then look for one that has no defined language.</li>
      <li class="" style="">If there are multiple options even after the above steps, select the one that comes first in the <code>&lt;icon/&gt;</code> element.</li>
      <li class="" style="">If there are no text strings that are in the user's language or no language defined at all, then it is probably best for the client to not even display the icon as a choice at all. But if the client still wants to allow it, then simply select the text string of any language that comes first in the <code>&lt;icon/&gt;</code> element.</li>
    </ol>
  </div>

  <div class="indent"><h3 id="sect-idm191">5.3 Objects<a class="anchor-link" href="#sect-idm191"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">Like multiple text strings, icons can have multiple object data files associated with them, and therefore clients also need to be able to figure out which ones to use when a user selects the desired icon from their GUI. Here is a suggestion of how those files can be chosen among multiple options, although this is completely an implementation issue (as with multiple text strings).</p>
    <ol start="" class="" style="">
      <li class="" style="">First look for any of these objects that are of MIME types the client can understand and use. For example, most clients could only use <code>image/bmp</code> and maybe <code>audio/x-wav</code>, but some newer clients may be able to support <code>image/png</code>, <code>image/svg+xml</code> and <code>audio/x-ogg</code>.</li>
      <li class="" style="">If there are still multiple object MIME types which the client can understand and use, then the client should rank the MIME types it can support, choosing its favorite.</li>
      <li class="" style="">If there are still multiple objects of the same MIME type, then the client should choose the first one in order in the <code>&lt;icon/&gt;</code> element.</li>
      <li class="" style="">If there are no files of any MIME type the client can understand, then it should ignore using any objects or even the entire icon.</li>
    </ol>
    <p class="" style="">The <a href="http://www.w3.org/TR/2003/WD-xhtml2-20030131/mod-object.html#sec_14.1.3.">Rules for processing objects</a> in the XHTML 2.0 OBJECT specification may also be of help in coding the procedure of choosing an object to use, especially when it comes to nested and author-preferred objects.</p>
    <p class="" style="">The client should also take note of the file sizes. The client should set (possibly as a user-defined option) the maximum file size in kilobytes for object files. Anything above this amount implies the file will be too big to properly render, and the icon style developer is probably being abusive.</p>
    <p class="" style="">Also, if you are developing an icon style, please make sure the MIME types specified in your <code>icondef.xml</code> file are correct. And also make sure that the files you use are reasonable in any byte, pixel, and timelength size. And although any file format can be supported, try to use <code>BMP</code>, <code>PNG</code>, <code>SVG</code>, <code>WAV</code>, <code>OGG</code> formats because they are open, free, and becoming increasingly supported in developer tools and programming languages.</p>
  </div>

  <div class="indent"><h3 id="sect-idm214">5.4 Combining Styles<a class="anchor-link" href="#sect-idm214"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">A client may permit the user to activate multiple icon styles at one time. This would be useful for styles which make use of different text strings, and the user wants them all. The client should force the user to rank the multiple styles for purposes of conflict resolution between icons. The highest ranking style gets preference over lower ranking styles. This ranking doesn't have to be anything more than simply dragging the style names into top-to-bottom rows, with the styles on top being higher ranked than those below.</p>
  </div>

  <div class="indent"><h3 id="sect-idm216">5.5 Core Icons<a class="anchor-link" href="#sect-idm216"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">Although any text string can be turned into an icon by defining it in an <code>icondef.xml</code> file, it is highly reccomended they either follow traditional ASCII Art (smileys and frownys, for example) or full keywords in simple markup such as double-colons. If you want to design icons, always keep in mind that not every Jabber user uses graphics to "translate" this to something visual, as explained in the "Meaningful" requirement, above. Here is a short list of recommended "core" icons that should be in most definitions, as well as possibly be used by transports:</p>
    <ul class="" style="">
      <li class="" style=""><strong>:-)</strong> and <strong>:)</strong> - A smiling face.</li>
      <li class="" style=""><strong>:-(</strong> and <strong>:(</strong> - A frowing face.</li>
      <li class="" style=""><strong>;-)</strong> and <strong>;)</strong> - A winking smiling face.</li>
      <li class="" style=""><strong>:'-(</strong> and <strong>:'(</strong> - A crying face.</li>
      <li class="" style=""><strong>&gt;:-(</strong> and <strong>&gt;:(</strong> - An angry face.</li>
      <li class="" style=""><strong>:yes:</strong> - A thumbs-up or checkmark.</li>
      <li class="" style=""><strong>:no:</strong> - A thumbs-down or a crossmark.</li>
      <li class="" style=""><strong>:wait:</strong> - An open hand, palm outstretched.</li>
      <li class="" style=""><strong>@-&gt;--</strong> and <strong>:rose:</strong> - A rose flower.</li>
      <li class="" style=""><strong>:telephone:</strong> - A telephone.</li>
      <li class="" style=""><strong>:email:</strong> - An electronic-looking envelope.</li>
      <li class="" style=""><strong>:jabber:</strong> - Jabber's lightbulb logo.</li>
      <li class="" style=""><strong>:cake:</strong> - A birthday cake.</li>
      <li class="" style=""><strong>:kiss:</strong> - A pair of puckered lips.</li>
      <li class="" style=""><strong>:heart:</strong> and <strong>:love:</strong> - A heart.</li>
      <li class="" style=""><strong>:brokenheart:</strong> - A broken heart.</li>
      <li class="" style=""><strong>:music:</strong> - A musical note or instrument.</li>
      <li class="" style=""><strong>:beer:</strong> - A beer mug.</li>
      <li class="" style=""><strong>:coffee:</strong> - A cup of coffee.</li>
      <li class="" style=""><strong>:money:</strong> - A gold coin.</li>
      <li class="" style=""><strong>:moon:</strong> - A moon.</li>
      <li class="" style=""><strong>:sun:</strong> - A sun.</li>
      <li class="" style=""><strong>:star:</strong> - A star.</li>
    </ul>
  </div>
<h2 id="sect-idm273">6.
       Security Considerations<a class="anchor-link" href="#sect-idm273"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">There are no security features or concerns related to this proposal.</p>
<h2 id="sect-idm275">7.
       IANA Considerations<a class="anchor-link" href="#sect-idm275"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">The <span class="ref" style=""><a href="https://xmpp.org/about/xmpp-standards-foundation">XMPP Standards Foundation (XSF)</a></span>  [<a href="#nt-idm279">1</a>] shall register and maintain a MIME type and file extension for icon style packages with the IANA. Ones have already been registered by Sebastiaan Deckers (aka 'CBAS') as <code>application/vnd.jisp</code> and <code>.jisp</code>, respectively. The registration can be found at <a href="http://www.iana.org/assignments/media-types/application/vnd.jisp">http://www.iana.org/assignments/media-types/application/vnd.jisp</a>. Sebastiaan's registration shall be considered the official MIME type and file extension of this specification.</p>
  <p class="" style="">Also, this specification uses other MIME types that are maintained by IANA for the object and xml files that are included in the icon style packages.</p>
<h2 id="sect-idm285">8.
       XMPP Registrar Considerations<a class="anchor-link" href="#sect-idm285"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">JANA shall register the namespace <code>http://jabber.org/protocol/icon-styles</code> as an official feature category.</p>
  <p class="" style="">Also, JANA may choose to define IM-specific <code>xml:lang</code> "language codes" for use within Jabber (in addition to those defined in the XML specification). Such language codes would allow Jabber developers to support icons from MSN, Yahoo, and popular web message programs.</p>
<h2 id="sect-idm290">9.
       Formal Definition<a class="anchor-link" href="#sect-idm290"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <div class="indent"><h3 id="sect-idm291">9.1 Schema<a class="anchor-link" href="#sect-idm291"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <figure class="code"><figcaption></figcaption><pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;xs:element name="icondef"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:complexType&gt;
          &lt;xs:sequence&gt;
            &lt;xs:element name="name" type="xs:string"/&gt;
            &lt;xs:element name="version" type="xs:string"/&gt;
            &lt;xs:element name="description" type="xs:string"/&gt;
            &lt;xs:element name="author" type="xs:string" maxOccurs="unbounded"&gt;
              &lt;xs:complexType&gt;
                &lt;xs:attribute name="jid" type="xs:string" use="optional"/&gt;
              &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name="creation" type="xs:date"/&gt;
          &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
        &lt;xs:element name="icon" minOccurs="1" maxOccurs="unbounded"&gt;
          &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
              &lt;xs:element name="text" type="xs:string" minOccurs="1" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="xml:lang" type="xs:language" use="optional"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="object" type="xs:string" minOccurs="1" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="mime" type="xs:string" use="required"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="x" type="xs:string" minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="xmlns" type="xs:anyURI" use="required"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;
          &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
        &lt;xs:element name="x" type="xs:string" minOccurs="0" maxOccurs="unbounded"&gt;
          &lt;xs:complexType&gt;
            &lt;xs:attribute name="xmlns" type="xs:anyURI" use="required"/&gt;
          &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;
</pre></figure>
  </div>

  <div class="indent"><h3 id="sect-idm293">9.2 icondef.xml file example<a class="anchor-link" href="#sect-idm293"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <figure class="code"><figcaption></figcaption><pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;icondef&gt;
  &lt;meta&gt;
    &lt;name&gt;Gold Angelic&lt;/name&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;description&gt;Angelic faces and themes with gold highlights.&lt;/description&gt;
    &lt;author jid="theo@theoretic.com"&gt;Adam Theo&lt;/author&gt;
    &lt;author jid="cbas@rhymbox.com"&gt;Sebastiaan Deckers&lt;/author&gt;
    &lt;author jid="cobnet@jabber.org"&gt;Mattias Campe&lt;/author&gt;
    &lt;creation&gt;2002-10-31&lt;/creation&gt;
    &lt;home&gt;http://icon-styles.jabberstudio.org/Gold_Angelic&lt;/home&gt;
  &lt;/meta&gt;
  &lt;icon&gt;
    &lt;text&gt;:-)&lt;/text&gt;
    &lt;text&gt;:)&lt;/text&gt;
    &lt;object mime="image/png"&gt;happy.png&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;choir.wav&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text&gt;:-(&lt;/text&gt;
    &lt;text&gt;:(&lt;/text&gt;
    &lt;object mime="image/png"&gt;sad.png&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;boohoo.wav&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text&gt;:-O&lt;/text&gt;
    &lt;text&gt;:O&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;shocked.svg&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::man::&lt;/text&gt;
    &lt;text xml:lang="de"&gt;::mann::&lt;/text&gt;
    &lt;text xml:lang="cs"&gt;::muz::&lt;/text&gt;
    &lt;text xml:lang="x-msn"&gt;(z)&lt;/text&gt;
    &lt;object mime="image/png"&gt;man.png&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::woman::&lt;/text&gt;
    &lt;text xml:lang="x-msn"&gt;(x)&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;woman.svg&lt;/object&gt;
    &lt;object mime="image/png"&gt;woman.png&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::alert::&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;red-exclamation-mark.svg&lt;/object&gt;
    &lt;object mime="audio/x-ogg"&gt;alert.ogg&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;alert.wav&lt;/object&gt;
  &lt;/icon&gt;
&lt;/icondef&gt;
</pre></figure>
  </div>
<h2 id="sect-idm295">10.
       Future Considerations<a class="anchor-link" href="#sect-idm295"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <ol start="" class="" style="">
    <li class="" style="">This proposes a standard, simple, plaintext-based icon convention. It does not attempt to create a powerful XML-based convention wherein XML tags are used to extensibly represent the icons. However, this proposal isn't exclusive, and does not prevent such an XML-based convention from being created at a later date. It may also be possible to build such an extensible XML-based convention on top of this plaintext one.</li>
    <li class="" style="">The Icon Styles that the sender used to create the message may be of use to the recipient. A separate specification can be developed for the transferring of the name and version of the Icon Styles used by the sender. The recipient's client may then be smart enough to automatically use the same icons as the sender intended, possibly even fetching and downloading the icon styles as needed. This would likely require directory services, so has not been included in this proposal.</li>
    <li class="" style="">The functionality of the <code>icondef.xml</code> files may be useful for variable text strings. Text strings that may change from session to session, such as the user's nickname in a multi-user chat. A set of variables could be defined that represent these variable datas, therefore allowing them to be manipulated in the same way set text strings are.</li>
    <li class="" style="">This convention may be adopted beyond the scope of Jabber into web browsers, email clients, and Wiki sites. There is great potential for a generalized, exchangeable convention for emoticons and genicons.</li>
    <li class="" style="">A "SVG Transport" may be created to enable clients to send <code>SVG</code> icons to it and get back icons in another format of their choice, such as <code>PNG</code> or <code>JPG</code>. This would speed up the adoption of <code>SVG</code> within Jabber greatly.</li>
    <li class="" style="">An online Web- (or even Jabber-) based editor to create icon style packages from the individual components would be a great tool for developers. This would be a great project for <a href="http://www.jabberstudio.org">JabberStudio</a> or even the <a href="http://www.theoretic.com/Ransom">Ransom model</a>.</li>
  </ol>
<hr><a name="appendices"></a><h2>Appendices</h2><h3 id="appendix-docinfo">Appendix A: Document Information<a class="anchor-link" href="#appendix-docinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><dl class="compact"><dt>Series</dt><dd><a href="https://xmpp.org/extensions/">XEP</a></dd><dt>Number</dt><dd>0038</dd><dt>Publisher</dt><dd><a href="/xsf/">XMPP Standards Foundation</a></dd><dt>Status</dt><dd><a href="https://xmpp.org/extensions/xep-0001.html#states-Obsolete">Obsolete</a></dd><dt>Type</dt><dd><a href="https://xmpp.org/extensions/xep-0001.html#types-Standards%20Track">Standards Track</a></dd><dt>Version</dt><dd>0.5.1</dd><dt>Last Updated</dt><dd>2022-03-08</dd><dt>Approving Body</dt><dd><a href="https://xmpp.org/council/">XMPP Council</a></dd><dt>Dependencies</dt><dd>
                None
              </dd><dt>Supersedes</dt><dd>None</dd><dt>Superseded By</dt><dd>Unicode, <a href="xep-0231.html">XEP-0231</a></dd><dt>Short Name</dt><dd>None</dd><dt>Source Control</dt><dd><a class="standardsButton" href="https://github.com/xsf/xeps/blob/master/xep-0038.xml">HTML</a></dd></dl><p>
          This document in other formats:
          <a class="standardsButton" href="https://xmpp.org/extensions/xep-0038.xml">XML</a> 
          <a class="standardsButton" href="https://xmpp.org/extensions/xep-0038.pdf">PDF</a></p><h3 id="appendix-authorinfo">Appendix B: Author Information<a class="anchor-link" href="#appendix-authorinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><h5>Adam Theo</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:theo@theoretic.com">theo@theoretic.com</a></dd><dt>JabberID</dt><dd><a href="xmpp:theo@theoretic.com">theo@theoretic.com</a></dd></dl><h3 id="appendix-legal">Appendix C: Legal Notices<a class="anchor-link" href="#appendix-legal"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><h4>Copyright</h4><p>This XMPP Extension Protocol is copyright © 1999 – 2020 by the <a href="https://xmpp.org/">XMPP Standards Foundation</a> (XSF).</p><h4>Permissions</h4><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.</p><h4>Disclaimer of Warranty</h4><p class="box info">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</p><h4>Limitation of Liability</h4><p>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.</p><h4>IPR Conformance</h4><p>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="https://xmpp.org/about/xsf/ipr-policy">https://xmpp.org/about/xsf/ipr-policy</a>&gt; or obtained by writing to XMPP Standards Foundation, P.O. Box 787, Parker, CO 80134 USA).</p><h4>Visual Presentation</h4><p>The HTML representation (you are looking at) is maintained by the XSF. It is based on the <a href="http://yaml.de">YAML CSS Framework</a>, which is licensed under the terms of the <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-SA 2.0</a> license.</p></div><h3 id="appendix-xmpp">Appendix D: Relation to XMPP<a class="anchor-link" href="#appendix-xmpp"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 6120) and XMPP IM (RFC 6121) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h3 id="appendix-discuss">Appendix E: Discussion Venue<a class="anchor-link" href="#appendix-discuss"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="https://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="https://xmpp.org/about/discuss.shtml">https://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h3 id="appendix-conformance">Appendix F: Requirements Conformance<a class="anchor-link" href="#appendix-conformance"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><h3 id="appendix-notes">Appendix G: Notes<a class="anchor-link" href="#appendix-notes"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><p><a name="nt-idm279">1</a>. The XMPP Standards Foundation (XSF) is an independent, non-profit membership organization that develops open extensions to the IETF's Extensible Messaging and Presence Protocol (XMPP). For further information, see &lt;<a href="https://xmpp.org/about/xmpp-standards-foundation">https://xmpp.org/about/xmpp-standards-foundation</a>&gt;.</p></div><h3 id="appendix-revs">Appendix H: Revision History<a class="anchor-link" href="#appendix-revs"><abbr title="Link to this point in the document">¶</abbr></a></h3><p>Note: Older versions of this specification might be available at <a href="https://xmpp.org/extensions/attic/">https://xmpp.org/extensions/attic/</a></p><ol class="revision-history"><li id="revision-history-v0.5.1"><div class="revision-head">Version 0.5.1 (2022-03-08)<a class="anchor-link" href="#revision-history-v0.5.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Obsolete due to the omnipresence of Unicode emoji, as well as Bits of Binary stickers.</p><div class="revision-author">egp</div></li><li id="revision-history-v0.5"><div class="revision-head">Version 0.5 (2003-06-02)<a class="anchor-link" href="#revision-history-v0.5"><abbr title="Link to this point in the document">¶</abbr></a></div>Bent to public will on using a common object element and enveloping all meta information into a meta element.<div class="revision-author">at</div></li><li id="revision-history-v0.4"><div class="revision-head">Version 0.4 (2003-03-05)<a class="anchor-link" href="#revision-history-v0.4"><abbr title="Link to this point in the document">¶</abbr></a></div>Added "format" back in. Refused to simplify to use "object" for everything. Fixed some typos.<div class="revision-author">at</div></li><li id="revision-history-v0.3"><div class="revision-head">Version 0.3 (2002-11-05)<a class="anchor-link" href="#revision-history-v0.3"><abbr title="Link to this point in the document">¶</abbr></a></div>Simplified, even though it loses some flexibility. Should be the final version.<div class="revision-author">at</div></li><li id="revision-history-v0.2"><div class="revision-head">Version 0.2 (2002-07-24)<a class="anchor-link" href="#revision-history-v0.2"><abbr title="Link to this point in the document">¶</abbr></a></div>Added feedback, still needs serious Schema work<div class="revision-author">at</div></li><li id="revision-history-v0.1"><div class="revision-head">Version 0.1 (2002-06-28)<a class="anchor-link" href="#revision-history-v0.1"><abbr title="Link to this point in the document">¶</abbr></a></div>Initial version<div class="revision-author">at</div></li></ol><h3 id="appendix-biblatex">Appendix I: Bib(La)TeX Entry</h3><pre>
@report{theo2002none,
  title = {Icon Styles},
  author = {Theo, Adam},
  type = {XEP},
  number = {0038},
  version = {0.5.1},
  institution = {XMPP Standards Foundation},
  url = {https://xmpp.org/extensions/xep-0038.html},
  date = {2002-06-28/2022-03-08},
}</pre><p>END</p></body></html>
