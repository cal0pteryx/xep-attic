<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>XEP-0369: Mediated Information eXchange (MIX)</title><style type="text/css">
/* don't mind this hack */
nav#toc h2:before {
display: none;
content: "XEP-0369";
}
        </style><link rel="stylesheet" type="text/css" href="xmpp.css"><link href="prettify.css" type="text/css" rel="stylesheet"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><script type="text/javascript" src="prettify.js"></script><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=2.0"><meta name="DC.Title" content="Mediated Information eXchange (MIX)"><meta name="DC.Creator" content="Kevin Smith"><meta name="DC.Creator" content="Steve Kille"><meta name="DC.Description" content="This document defines Mediated Information eXchange (MIX), an XMPP protocol extension for the exchange of information among multiple users through a mediating service. The protocol can be used to provide human group communication and communication between non-human entities using channels, although with greater flexibility and extensibility than existing groupchat technologies such as Multi-User Chat (MUC).   MIX uses Publish-Subscribe to provide flexible access and publication, and uses Message Archive Management (MAM) to provide storage and archiving. "><meta name="DC.Publisher" content="XMPP Standards Foundation"><meta name="DC.Contributor" content="XMPP Extensions Editor"><meta name="DC.Date" content="2020-11-03"><meta name="DC.Type" content="XMPP Extension Protocol"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="XEP-0369"><meta name="DC.Language" content="en"><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright © 1999 – 2020 by the XMPP Standards Foundation (XSF)."></head><body onload="prettyPrint()"><h1>XEP-0369: Mediated Information eXchange (MIX)</h1><div class="docmeta-wrap"><dl id="docmeta" class="compact"><dt>Abstract</dt><dd>This document defines Mediated Information eXchange (MIX), an XMPP protocol extension for the exchange of information among multiple users through a mediating service. The protocol can be used to provide human group communication and communication between non-human entities using channels, although with greater flexibility and extensibility than existing groupchat technologies such as Multi-User Chat (MUC).   MIX uses Publish-Subscribe to provide flexible access and publication, and uses Message Archive Management (MAM) to provide storage and archiving. </dd><dt>Authors</dt><dd><ul class="authors"><li>Kevin Smith</li><li>Steve Kille</li></ul></dd><dt>Copyright</dt><dd>© 1999 – 2020 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</dd><dt>Status</dt><dd><p>Experimental</p><div id="status-notice" class="experimental standards track">WARNING: This Standards-Track document is Experimental. Publication as an XMPP Extension Protocol does not imply approval of this proposal by the XMPP Standards Foundation. Implementation of the protocol described herein is encouraged in exploratory implementations, but production systems are advised to carefully consider whether it is appropriate to deploy implementations of this protocol before it advances to a status of Draft.</div></dd><dt>Type</dt><dd>Standards Track</dd><dt>Version</dt><dd>0.14.5 (2020-11-03)</dd></dl><div class="timeline-wrap"><div class="timeline-head">Document Lifecycle</div><ol class="timeline"><li class="current">Experimental</li><li>Proposed</li><li>Draft</li><li>Final</li></ol></div></div><nav id="toc"><a href="#top"><h2>Table of Contents</h2></a><ol class="toc"><li><a href="#intro">Introduction</a></li><li><a href="#reqs">Requirements</a></li><li><a href="#family">MIX Specification Family</a></li><li><a href="#concepts">Concepts</a><ol><li><a href="#concepts-muc-comparison">Comparsion to MUC</a></li><li><a href="#concepts-approach">Specification Approach</a></li><li><a href="#concepts-core">Core Concepts</a></li><li><a href="#concepts-pubsub">MIX and PubSub</a></li><li><a href="#concepts-mam">MIX and MAM</a></li><li><a href="#stable-id">Stable Participant ID</a></li><li><a href="#concepts-nodes">Standard Nodes</a><ol><li><a href="#node-archiving">Node Archiving</a></li><li><a href="#messages-node">Messages Node</a></li><li><a href="#participants-node">Participants Node</a></li><li><a href="#info-node">Information Node</a></li></ol></li><li><a href="#non-standard-nodes">Non-Standard Nodes</a></li></ol></li><li><a href="#error-handling">Error Handling</a></li><li><a href="#discovery">Discovery</a><ol><li><a href="#disco-service">Discovering a MIX service</a></li><li><a href="#disco-channel-list">Discovering the Channels on a Service</a></li><li><a href="#disco-channel-info">Discovering Channel Information</a></li><li><a href="#disco-channel-nodes">Discovering Nodes at a Channel</a></li><li><a href="#find-channel-info">Determining Information about a Channel</a></li><li><a href="#find-channel-participants">Determining the Participants in a Channel</a></li><li><a href="#mix-client-discovery">Discovering Client MIX Capability</a></li></ol></li><li><a href="#usecases">Use Cases</a><ol><li><a href="#usecases-user">Common User Use Cases</a><ol><li><a href="#usecase-jl-model">Model for Join and Leave</a></li><li><a href="#usecase-user-join">Joining a Channel</a></li><li><a href="#usecase-user-leaving">Leaving a Channel</a></li><li><a href="#usecase-setting-nick">Setting a Nick</a></li><li><a href="#usecase-sync-history">Coming Online: Synchronizing Message History</a></li><li><a href="#usecase-user-message">Sending a Message</a></li></ol></li><li><a href="#use-mam">Use of MAM</a><ol><li><a href="#use-mam-messages">Archive of Messages</a></li><li><a href="#use-mam-retrieve">Retrieving Messages</a></li><li><a href="#use-mam-other-nodes">MAM Use with other Channel Nodes</a></li></ol></li><li><a href="#usecases-admin">Administrative Use Cases</a><ol><li><a href="#usecase-admin-check-create">Checking For Permission To Create a Channel</a></li><li><a href="#usecase-admin-create">Creating a Channel</a></li><li><a href="#usecase-admin-create-adhoc">Creating a Channel for Ad Hoc Use</a></li><li><a href="#usecase-admin-destroy">Destroying a Channel</a></li><li><a href="#usecase-server-destroy">Server Destroying a Channel</a></li></ol></li></ol></li><li><a href="#not-included-from45">Capabilities not provided in MIX</a><ol><li><a href="#password-control">Password Controlled Channels</a></li><li><a href="#voice-control">Voice Control</a></li><li><a href="#not-subject">Subject</a></li></ol></li><li><a href="#i18n">Internationalization Considerations</a></li><li><a href="#security">Security Considerations</a></li><li><a href="#iana">IANA Considerations</a></li><li><a href="#registrar">XMPP Registrar Considerations</a></li><li><a href="#schema">XML Schema</a></li><li><a href="#ack">Acknowledgements</a></li></ol><h6><a href="#appendices">Appendices</a></h6><ol class="toc-appendices"><li><a href="#appendix-docinfo">Document Information</a></li><li><a href="#appendix-authorinfo">Author Information</a></li><li><a href="#appendix-legal">Legal Notices</a></li><li><a href="#appendix-xmpp">Relation to XMPP</a></li><li><a href="#appendix-discuss">Discussion Venue</a></li><li><a href="#appendix-conformance">Requirements Conformance</a></li><li><a href="#appendix-notes">Notes</a></li><li><a href="#appendix-revs">Revision History</a></li></ol></nav><h2 id="intro">1.
       Introduction<a class="anchor-link" href="#intro"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">The Mediated Information eXchange (MIX) protocol is intended as a replacement for Multi-User Chat (MUC). MUC is a major application of XMPP that was developed in 2002 and standardized in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>]. MIX implements the same basic MUC patterns in a more flexible and extensible way in order to address requirements that have emerged since MUC was developed. MIX supports all of the core chatroom features that are familiar from MUC, such as discussion topics and invitations. Like MUC, it also defines a strong access control model, including the ability to ban users, to name administrators, and to provide controls as to which users can participate in channels.</p>
  <p class="" style="">Several reasons exist for replacing MUC:</p>
  <ul class="" style="">
    <li class="" style="">A number of use cases for group communication have emerged since MUC was first published.</li>
    <li class="" style="">Experience has shown that it is difficult to use MUC to build several kinds of communication applications (such as a multimedia conference) without undesirable adaptations.</li>
    <li class="" style="">It is impractical to address a number of the requirements listed in the next section with MUC or with extensions to MUC. </li>
    <li class="" style="">In the years after MUC was designed, both <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>] and <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idm45048549961104">3</a>] have been developed and it is desirable to reuse these building blocks (e.g., MAM can be used for message history) rather than using the less robust methods defined in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>].</li>
  </ul>
  <p class="" style="">Because it is anticipated that there will be significant co-existence between MUC and MIX, this specification is designed so that:</p>
  <ul class="" style="">
    <li class="" style="">XMPP clients can implement MUC and this specification in a way that provides a coherent user experience.</li>
    <li class="" style="">XMPP servers can implement this specification and also provide a MUC interface in order to support clients that only implement MUC.</li>
  </ul>
  <p class="" style="">MIX gives guidance on supporting both MUC and MIX representations of chatrooms.</p>
<h2 id="reqs">2.
       Requirements<a class="anchor-link" href="#reqs"><abbr title="Link to this point in the document">¶</abbr></a></h2>

<p class="" style="">The following requirements have been identified, which MIX aims to address.</p>
  <ol start="" class="" style="">
    <li class="" style="">A user's participation in a channel persists and is not modified by the user's client going online and offline.</li>
    <li class="" style="">Multiple devices associated with the same account can share the same nick in the channel, with well-defined rules making each client individually addressable.</li>
    <li class="" style="">Channels are NOT REQUIRED to support or reflect presence for participants.</li>
    <li class="" style="">A reconnecting client can quickly resync with respect to messages and presence.</li>
    <li class="" style="">A user MAY (subject to configuration) receive messages from a channel as an invisible observer.</li>
    <li class="" style="">Configuration can be observed externally to the channel (e.g., list of participants, access control rights, etc.).</li>
    <li class="" style="">MIX services SHOULD provide mechanisms to prevent JIDs from being harvested.</li>
    <li class="" style="">MIX and Message Archive Management (MAM) MUST work well together.</li>
    <li class="" style="">A user can determine which channels they participate in.</li>
    <li class="" style="">Provide extensibility regarding data formats that can be sent within a channel (files, structured data, indications about media sources in multimedia conferences, etc.) as well as flexibility regarding which data formats a user wants to receive.</li>
    <li class="" style="">Enable federation of a channel across multiple servers, to provide a service equivalent to "federated MUC" <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0289.html">Federated MUC for Constrained Environments (XEP-0289)</a></span>  [<a href="#nt-idm45048549935056">4</a>].</li>
    <li class="" style="">Enable sharing of messages on a channel without requiring sharing of presence.</li>
    <li class="" style="">Enable sharing of presence without requiring message sending.</li>
    <li class="" style="">(Desirable) Make it easier to reduce duplicate traffic.</li>
    <li class="" style="">MIX should be suitable for use by humans and as a building block for other clients.</li>
 </ol>
<h2 id="family">3.
       MIX Specification Family<a class="anchor-link" href="#family"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">MIX is specified as a family of XEPs that address the full set of requirements.   Only two of these XEPs are mandatory for providing a MIX service.  The others provide additional services and are used when these additional services are required.  Each of these specifications has a short name, which is used to refer the specific XEP.  The term MIX is used to refer to the family of XEPs.   MIX is extensible, and it is anticipated that further XEPs will be added to this family.   The XEPs are:  </p>

  <ol start="" class="" style="">
    <li class="" style="">MIX-CORE.  <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0369.html">Mediated Information eXchange (MIX) (XEP-0369)</a></span>  [<a href="#nt-idm45048549921232">5</a>].  This specification is the central mandatory MIX specification.  It sets out requirements addressed by MIX and general MIX concepts and framework.   It defines joining channels and associated participant management.  It defines discovery and sharing of MIX channels and information about them.   It defines use of MIX to share messages with channel participants. </li>
    <li class="" style="">MIX-PRESENCE. <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0403.html">Mediated Information eXchange (MIX): Presence Support. (XEP-0403)</a></span>  [<a href="#nt-idm45048549917088">6</a>]. This optional specification adds the ability for MIX online clients to share presence, so that this can be seen by other MIX clients. It also specifies relay of IQ stanzas through a channel.</li>
    <li class="" style="">MIX-PAM.  <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0405.html">Mediated Information eXchange (MIX): Participant Server Requirements (XEP-0405)</a></span>  [<a href="#nt-idm45048549908720">7</a>]. This  specification defines how a server supporting MIX clients behaves, to support servers implementing MIX-CORE and MIX-PRESENCE.</li>
    <li class="" style="">MIX-ADMIN. <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0406.html">Mediated Information eXchange (MIX): MIX Administration (XEP-0406)</a></span>  [<a href="#nt-idm45048549902848">8</a>].  This specifies MIX configuration and administration of MIX.</li>
    <li class="" style="">MIX-ANON.  <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0404.html">Mediated Information eXchange (MIX): JID Hidden Channels. (XEP-0404)</a></span>  [<a href="#nt-idm45048549898736">9</a>]. This specifies a mechanism to hide real JIDs from MIX clients and related privacy controls.  It also specifies private messages. </li>
    <li class="" style="">MIX-MISC.  <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0407.html">Mediated Information eXchange (MIX): Miscellaneous Capabilities (XEP-0407)</a></span>  [<a href="#nt-idm45048549889840">10</a>]. This specifies a number of small MIX capabilities which are useful but do not need to be a part of MIX-CORE. </li>
    <li class="" style="">MIX-MUC. <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0408.html">Mediated Information eXchange (MIX): Co-existence with MUC (XEP-0408)</a></span>  [<a href="#nt-idm45048549885680">11</a>]. This defines how MIX and MUC can be used together. </li>
    <li class="" style="">RELIABLE-DELIVERY.  MIX-CORE needs messages to be distributed without loss.   This specification is important for MIX, but may be useful in other places.</li>
  </ol>
  <p class="" style="">
    The following table shows which of these specification is mandatory or optional for a MIX server, a server supporting MIX users, a general purpose end user client, and a client providing MIX channel administration.
  </p>
  <figure class="table"><figcaption id="table-1"><strong>Table 1:</strong> Optional/Mandatory Status of the MIX Specifications<a class="anchor-link" href="#table-1"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><table>
    <tr class="body"><th colspan="" rowspan="">Specification</th><th colspan="" rowspan="">MIX Server</th><th colspan="" rowspan="">Server supporting MIX Clients</th><th colspan="" rowspan="">End User MIX Client</th><th colspan="" rowspan="">Administrative MIX Client</th></tr>
    
    <tr class="body"><td align="" colspan="" rowspan="">MIX-CORE</td><td align="" colspan="" rowspan="">Mandatory</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Mandatory</td><td align="" colspan="" rowspan="">Mandatory</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-PRESENCE</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">Optional</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-PAM</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Mandatory</td><td align="" colspan="" rowspan="">Mandatory</td><td align="" colspan="" rowspan="">Mandatory</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-ADMIN</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Mandatory</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-ANON</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Optional</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-MISC</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">Optional</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">MIX-MUC</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td></tr>
    <tr class="body"><td align="" colspan="" rowspan="">RELIABLE-DELIVERY</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">Optional</td><td align="" colspan="" rowspan="">n/a</td><td align="" colspan="" rowspan="">n/a</td></tr>
    
    
  </table></figure>
<h2 id="concepts">4.
       Concepts<a class="anchor-link" href="#concepts"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <div class="indent"><h3 id="concepts-muc-comparison">4.1 Comparsion to MUC<a class="anchor-link" href="#concepts-muc-comparison"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      This  section is written as an introduction to MIX for those with detailed knowledge of <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>], to summarize key differences and some rationale for the differences.   For those unfamiliar with MUC, this section should be ignored.
    </p>
    <p class="" style="">
      In MUC, a client joins a MUC room.   After this, the client is sent history information, presences, and messages until the client leaves the room by going offline.  Key MIX features as summarized below:
    </p>
    <ol start="" class="" style="">
      <li class="" style="">MIX has "channels", which are equivalent to MUC rooms.</li>

      <li class="" style="">MIX separates out various services, in particular messages and presence.   A MIX channel is implemented as a set of PubSub nodes, and a user (not client) can subscribe to a set of nodes.  This control means that users can subscribe to presence and/or messages, which gives useful flexibility.  This addresses requirements 3 and 5.  Subscribing to message and presence nodes gives a service broadly equivalent to MUC.</li>

      <li class="" style="">Messages and presence sent by a MIX channel use the same formats as MUC and do not use PubSub encodings.</li>

      <li class="" style="">Channels do not have a "subject".  This MUC capability is not supported by core MIX.</li>

      <li class="" style="">Users join MIX channels for an extended period and participation is not impacted by clients going online and offline (requirement 1).   This means that a MIX client uses channel subscriptions as negotiated by the MIX user.</li>

      <li class="" style="">MIX messages and presence are always sent and are addressed to the user (bare JID).   This addressing is a consequence of users (not clients) being the participants in a MIX channel; It is a key difference between MUC and MIX.  This addressing change means that the user's server needs to have MIX-specific behaviour to correctly distribute arriving messages and presence appropriately to MIX clients; there may be zero or more online clients that support MIX.   This server behaviour is specified by MIX. </li>

      <li class="" style="">MIX messages are archived using MAM on the user's server.   This enables flexible access to channel history, independent of the MIX channel server. </li>

      <li class="" style="">A user's roster contains the MIX channels to which the user is subscribed.   A client can use a MIX roster extension to determine which MIX channels the user is subscribed to.   When a client comes online, this will lead to directed presence for the client to be sent to each MIX channel.   A MIX channel can then share the user's presence with channel participants that have subscribed to the presence.    The MIX channel will also return to the client a full list of presence information for the channel.   This means that when a client comes online, it will receive presence updates for the participants in all subscribed MIX channels.</li>

      <li class="" style="">In MIX, a Nick belongs to the user and not to each client.</li>

      


    </ol>
  </div>

  <div class="indent"><h3 id="concepts-approach">4.2 Specification Approach<a class="anchor-link" href="#concepts-approach"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      MIX will enable a wide range of auxiliary services.  The goal of the MIX family of specification is to set out the core capabilities needed for MIX.   It is anticipated that additional XEPs will be written to extend the current MIX specification, and the  MIX specification family notes some areas where this may happen.     Profiles referencing sets of related MIX XEPs may be developed in the future.
    </p>
  </div>
  <div class="indent"><h3 id="concepts-core">4.3 Core Concepts<a class="anchor-link" href="#concepts-core"><abbr title="Link to this point in the document">¶</abbr></a></h3>
  <p class="" style="">The following concepts underlie the design of MIX.</p>
  <ol start="" class="" style="">
    <li class="" style="">MIX channels (roughly equivalent to MUC rooms) are hosted on one or more MIX domains, (examples: 'mix.example.com'; 'conference.example.com'; 'talk.example.com'), which are discoverable through <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idm45048549802592">12</a>]. Each channel on a MIX service can then be discovered and queried.</li>
    <li class="" style=""> In MIX each channel (e.g., 'channel@mix.example.com') is a specialized pubsub service. This is based on the model from <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0163.html">Personal Eventing Protocol (XEP-0163)</a></span>  [<a href="#nt-idm45048549797968">13</a>] where every user JID (e.g., 'user@example.com') is its own pubsub service. </li>
    <li class="" style="">A channel's pubsub service contains a number of nodes for different event types or data formats. As described below, this document defines several standard nodes; however, future specifications or proprietary services can define their own nodes for extensibility.</li>
    <li class="" style="">Affiliations with the nodes are managed by the MIX service by channel level operations, so that the user does not have to separately manage affiliations with the individual PubSub nodes.
     </li>
    <li class="" style=""><span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idm45048549961104">3</a>] (MAM) is used for all history access, with each node being individually addressable for MAM queries. This simplifies implementation compared to MUC (which had a specialized and rather limited history retrieval mechanism).</li>
    <li class="" style="">A client can achieve a 'quick resync' of a node by requesting just those changes it has not yet received, using standard MAM protocol. This solves the MUC issue of either receiving duplicate messages when rejoining a room or potentially missing messages.</li>
    <li class="" style="">Because MAM is used for history, only those nodes that have a 'current value' need to store any items in them — e.g., 'urn:xmpp:mix:nodes:presence' and 'urn:xmpp:mix:nodes:info' would store their current values (with older values being queryable through MAM), while 'urn:xmpp:mix:nodes:messages' would store no items.</li>
    <li class="" style="">A user's participation in a channel outlives their client sessions. A client which is offline will not share presence within the channel, but the associated user will still be listed as an participant. </li>
    <li class="" style="">Presence is sent to participants using bare JID, whether or not the user has an online client. </li>
    <li class="" style="">Online clients MAY register presence, which is then shared with participants who have subscribed to presence.</li>
    <li class="" style="">MIX decouples addressing of channel participants from their nicknames, so that nickname changes do not affect addressing.</li>
    <li class="" style="">Each participant has a Stable Participant ID.  This is used in some derived JIDs to provide a stable participant reference.  It is used to hide JIDs in MIX-ANON.
    
    </li>
    <li class="" style=""> Although some protocol is shared with MUC, MUC clients are not interoperable with a MIX service. </li>
    <li class="" style="">MIX requires the server to which the MIX client connects to provide functionality to support MIX.  This functionality is defined in this specification and referenced as "MIX Participant's Server Behaviour".</li>
    <li class="" style="">MIX domains MUST NOT be used to host end user JIDs. </li>
  </ol>
  </div>
  <div class="indent"><h3 id="concepts-pubsub">4.4 MIX and PubSub<a class="anchor-link" href="#concepts-pubsub"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">MIX is based upon domains providing a MIX service, such as 'mix.shakespeare.example'. Note that although PubSub communication is used, a domain used for MIX is a MIX domain and not a standard <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>] domain. Like MUC, there is no requirement on the naming of these domains; the label 'mix' used in examples in this specification and the fact that it is a subdomain of a 'shakespeare.example' service are purely for example.</p>
    <p class="" style="">Every MIX channel is an addressable  service based on PubSub (with additional MIX semantics) that will be addressed using a bare JID by other XMPP entities, for example coven@mix.shakespeare.example. While <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>] is used as the basis for the MIX model, MIX uses standard presence and groupchat messages to provide an interface to the MIX service that does not expose PubSub protocol for many of the more common functions.
</p>
  </div>
  <div class="indent"><h3 id="concepts-mam">4.5 MIX and MAM<a class="anchor-link" href="#concepts-mam"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style=""> Historical data (such as the messages sent to the channel) is stored in an archive supporting  Message Archive Management (MAM) so that clients can subsequently access this data with MAM. Each node can be archived separately (e.g., the presence node or the configuration node).  MIX messages are archived by both the MIX channel and the user's server, so that clients can generally use their local MAM archiver.  MIX clients can retrieve archived information with MAM in order to quickly resync messages with regard to a channel, and can do so without providing presence information.</p>
  </div>



  <div class="indent"><h3 id="stable-id">4.6 Stable Participant ID<a class="anchor-link" href="#stable-id"><abbr title="Link to this point in the document">¶</abbr></a></h3>

 <p class="" style="">
   Every channel participant is identified by a Stable Participant ID, which uniquely identifies a channel participant and never changes.  The Stable Participant ID MUST NOT contain the '#', '/' or '@' characters. 

 </p>
   
    <p class="" style="">
      A Participant's Stable Participant ID is defined when a participant joins a channel.  While a user is a participant in a Channel, the Stable Participant ID MUST NOT be changed.   This mapping between Participant and Stable Participant ID MUST be maintained after the participant leaves the channel.   Stable Participant ID values MUST NOT be re-used.   If a participant that left a channel joins the channel again, the same Stable Participant ID MAY be used again or a different Stable Participant ID MAY be assigned.
    </p>



  </div>
  <div class="indent"><h3 id="concepts-nodes">4.7 Standard Nodes<a class="anchor-link" href="#concepts-nodes"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">MIX defines a number of standard nodes, and this specification defines three of these nodes and the framework for adding further nodes.
    </p>
    <figure class="table"><figcaption id="table-2"><strong>Table 2:</strong> MIX-CORE Nodes<a class="anchor-link" href="#table-2"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><table>
      <tr class="body"><th colspan="" rowspan="">Name</th><th colspan="" rowspan="">Node</th><th colspan="" rowspan="">Description</th><th colspan="" rowspan="">Update</th><th colspan="" rowspan="">Distribution</th></tr>
      <tr class="body"><td align="" colspan="" rowspan="">Messages</td><td align="" colspan="" rowspan="">'urn:xmpp:mix:nodes:messages'</td><td align="" colspan="" rowspan="">For distributing messages to the channel. Each item of this node will contain a message sent to the channel.</td><td align="" colspan="" rowspan="">Message</td><td align="" colspan="" rowspan="">Message</td></tr>
      <tr class="body"><td align="" colspan="" rowspan="">Participants</td><td align="" colspan="" rowspan="">'urn:xmpp:mix:nodes:participants'</td><td align="" colspan="" rowspan="">For storing the list of participants and the associated nick.  Channel participants are added when they join the channel and removed when they leave.</td><td align="" colspan="" rowspan="">Join/Leave/Set Nick</td><td align="" colspan="" rowspan="">PubSub</td></tr>
      <tr class="body"><td align="" colspan="" rowspan="">Information</td><td align="" colspan="" rowspan="">'urn:xmpp:mix:nodes:info'</td><td align="" colspan="" rowspan="">For storing general channel information, such as description. </td><td align="" colspan="" rowspan="">PubSub</td><td align="" colspan="" rowspan="">PubSub</td></tr>

    </table></figure>
    <p class="" style="">
      Participants is the only mandatory MIX node for a channel, which defines the set of clients that have joined the channel.   All other nodes are OPTIONAL.

      MIX provides mechanisms to allow users to conveniently subscribe to a chosen set of nodes and to unsubscribe to all nodes with a single operation.  Some nodes are accessed and managed with PubSub, whereas other nodes define MIX specific mechanisms for their use, as shown in the last two columns of the table.
    </p>



    <div class="indent"><h4 id="node-archiving">4.7.1 Node Archiving<a class="anchor-link" href="#node-archiving"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        Nodes MAY be archived and where this is done MAM MUST be used.  Archiving of the Messages node MUST be done as part of the MIX-CORE specification.  Archiving of other nodes is OPTIONAL.
      </p>
    </div>
    <div class="indent"><h4 id="messages-node">4.7.2 Messages Node<a class="anchor-link" href="#messages-node"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        The Messages node is used to distribute messages.   The Messages node is a transient node and so no PubSub items are held.  Messages MUST go to the associated MAM archive and history is retrieved by use of  MAM. Users subscribe to this node to indicate that messages from the channel are to be sent to them.   Private Messages are not distributed by the Messages node.

      </p>

    </div>

    <div class="indent"><h4 id="participants-node">4.7.3 Participants Node<a class="anchor-link" href="#participants-node"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      
      <p class="" style="">Each channel participant is represented as an item of the 'urn:xmpp:mix:nodes:participants' channel node.  Each item is named by the Stable Participant ID of the participant. For example '123456' might name the node item associated with participant 'hag66@shakespeare.example'.  Information is stored in a &lt;participant/&gt; element qualified by the 'urn:xmpp:mix:core:1' namespace.   
      </p>
      <p class="" style="">
       A Nick MAY be associated with a participant, which provides a user-oriented  description of the participant.  The nick associated with the user is stored in a &lt;nick/&gt; child element of the &lt;participant/&gt; element.   The nick for each channel participant MUST be different to the nick of other participants (where nicks have been assigned).
      </p>
      <p class="" style="">
        A channel MAY require nicks to be mandatory for all participants.   This is the default behaviour, and nicks MUST only be optional when this is explicitly configured for a channel as specified in MIX-ADMIN.
      </p>
      <p class="" style="">
        Where a nick is provided for a user, it is generally recommended to use this nick to display the user.   This enables consistent representation of participants for all participants in the channel.
      </p>
      <p class="" style="">
        The real JID of the user MAY be held in the participants node.   When the real JID is not present, the procedures defined in MIX-ANON must be followed.  Note that only the real JID may be held in participants node.  Any JID derived from the stable ID MUST NOT be held.
        The user's JID is stored in a &lt;jid/&gt; child element of the &lt;participant/&gt; element.
      </p>
      <p class="" style="">
        When a user joins a channel, an item representing the user is added to the participants node by the MIX service.   When a user leaves a channel, the user's item is removed from the participants node.  The participants node MUST NOT be directly modified using pubsub.
      </p>
      <p class="" style="">
       It may be useful for clients to read the participants list.   However it is not necessary for message and presence display, as both messages and presence contain sufficient information to enable display.
      </p>
      <p class="" style="">
        Users MAY subscribe to, and read information from this node, when permitted by the channel.  Standard PubSub access will allow a full list of participants and associated nicks to be determined.  By subscribing to the node, a user will be informed of changes to the Participants Node.
      </p>
      <p class="" style="">The participants node is MANDATORY.   The Participants node is a permanent node with one item per participant.</p>
      <figure class="code-example" id="example-1"><figcaption><strong>Example 1.</strong> Value of Participants Node<a class="anchor-link" href="#example-1"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;items node='urn:xmpp:mix:nodes:participants'&gt;
  &lt;item id='123456'&gt;
    &lt;participant xmlns='urn:xmpp:mix:core:1'&gt;
      &lt;nick&gt;thirdwitch&lt;/nick&gt;
      &lt;jid&gt;hag66@shakespeare.example&lt;/jid&gt;
    &lt;/participant&gt;
  &lt;/item&gt;
&lt;/items&gt;
</pre></figure>
    </div>
    <div class="indent"><h4 id="info-node">4.7.4 Information Node<a class="anchor-link" href="#info-node"><abbr title="Link to this point in the document">¶</abbr></a></h4>

      <p class="" style="">The Information node holds information about the channel.  It will often be helpful for MIX clients to be able to display this information.   The information node contains a single item with the current information.
        The information node is named by the date/time at which the item was created.   The information node is accessed and managed using standard pubsub.   The Information node is a permanent node with a maximum of one item.  Users MAY subscribe to this node to receive information updates. The Information node item MAY contain the following attributes, each of which is OPTIONAL:
      </p>
      <figure class="table"><figcaption id="table-3"><strong>Table 3:</strong> Information Node Attributes<a class="anchor-link" href="#table-3"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><table>
        <tr class="body"><th colspan="" rowspan="">Name</th><th colspan="" rowspan="">Description</th><th colspan="" rowspan="">Field Type</th><th colspan="" rowspan="">Values</th><th colspan="" rowspan="">Default</th></tr>
        <tr class="body"><td align="" colspan="" rowspan="">'Name'</td><td align="" colspan="" rowspan="">A short string providing a name for the channel.  For example "The Coven".  Typical uses of this value will be to present a user with the name of this channel in a list of channels to select from or as the header of UI display of the channel.  It is intended for use where a short string is needed to represent the channel.</td><td align="" colspan="" rowspan="">text-single</td><td align="" colspan="" rowspan="">-</td><td align="" colspan="" rowspan="">-</td></tr>
        <tr class="body"><td align="" colspan="" rowspan="">'Description'</td><td align="" colspan="" rowspan="">A longer description of the channel. For example "The Place where the Macbeth Witches Meet up".   A typical use would be to provide a user with more information about the channel, for example in a tool tip.</td><td align="" colspan="" rowspan="">text-single</td><td align="" colspan="" rowspan="">-</td><td align="" colspan="" rowspan="">-</td></tr>
        <tr class="body"><td align="" colspan="" rowspan="">'Contact'</td><td align="" colspan="" rowspan="">The JID or JIDs of the person or role responsible for the channel.</td><td align="" colspan="" rowspan="">jid-multi</td><td align="" colspan="" rowspan="">-</td><td align="" colspan="" rowspan="">-</td></tr>

      </table></figure>
      <p class="" style="">
        Name and Description of the channel apply to the whole channel and will usually be changed infrequently.
      </p>
      <p class="" style="">
        JID visibility is included in the Information Node as this is information that will be useful for participant clients and may also be important when choosing to join a channel.
      </p>
      <p class="" style="">The name and description values MUST contain a "text" element and MAY contain additional text elements.  The format of the Information node follows <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0004.html">Data Forms (XEP-0004)</a></span>  [<a href="#nt-idm45048549685536">14</a>].  This allows configuration to be updated by MIX defined commands and that the results of update commands are the same as the PubSub node.
      The following example shows the format of a item in the information node for the example coven@mix.shakespeare.example channel.
      </p>
      <figure class="code-example" id="example-2"><figcaption><strong>Example 2.</strong> Information Node<a class="anchor-link" href="#example-2"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;items node='urn:xmpp:mix:nodes:info'&gt;
  &lt;item id='2016-05-30T09:00:00'&gt;
    &lt;x xmlns='jabber:x:data' type='result'&gt;
      &lt;field var='FORM_TYPE' type='hidden'&gt;
        &lt;value&gt;urn:xmpp:mix:core:1&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='Name'&gt;
        &lt;value&gt;Witches Coven&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='Description'&gt;
        &lt;value&gt;A location not far from the blasted heath where
               the three witches meet&lt;/value&gt;
      &lt;/field&gt;
      &lt;field var='Contact'&gt;
        &lt;value&gt;greymalkin@shakespeare.example&lt;/value&gt;
      &lt;/field&gt;
    &lt;/x&gt;
  &lt;/item&gt;
&lt;/items&gt;
</pre></figure>
    </div>
  </div>
  <div class="indent"><h3 id="non-standard-nodes">4.8 Non-Standard Nodes<a class="anchor-link" href="#non-standard-nodes"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      The MIX standard allows channels to use non-standard nodes, using names that do not conflict with the standard nodes.     Non-Standard nodes MUST NOT duplicate or otherwise provide capability that can be provided by standard nodes.
    </p>
  </div>
<h2 id="error-handling">5.
       Error Handling<a class="anchor-link" href="#error-handling"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">
    The MIX specification is built on layered services that have defined errors.  This enables the core MIX specification to reflect primarily the successful use case, as in almost all cases the error reporting of the layer service provides what is needed.   A message sender MUST be prepared to handle any valid error from the layer services.   When a message receiver encounters an error situation, it MUST use the most appropriate layer server error to report this issue back to the sender.   For example a  receiving entity might use the "not authorized"  error in response to a  disco query that is not authorized.   Errors for the following layer services need to be handled for MIX:
  </p>
  <ol start="" class="" style="">
    <li class="" style="">IQ.  All of the IQ errors of <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc6120">RFC 6120</a></span>  [<a href="#nt-idm45048549671456">15</a>] MUST be supported.</li>
    <li class="" style="">Messages.  If a message is received and an error situation is encountered, a message of type error MUST be sent back to the message sender. This message format is specified in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc6121">RFC 6121</a></span>  [<a href="#nt-idm45048549667008">16</a>] containing an error defined in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc6120">RFC 6120</a></span>  [<a href="#nt-idm45048549671456">15</a>], which is the same error set as for IQs.</li>
    <li class="" style="">PubSub.  Where MIX protocol messages use PubSub protocol, the errors defined in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>] MUST be used and supported.</li>
  </ol>
<h2 id="discovery">6.
       Discovery<a class="anchor-link" href="#discovery"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <div class="indent"><h3 id="disco-service">6.1 Discovering a MIX service<a class="anchor-link" href="#disco-service"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      An entity MAY discover a MIX service or MIX services by sending a Service Discovery items ("disco#items") request to its own server.
    </p>
    <figure class="code-example" id="example-3"><figcaption><strong>Example 3.</strong> Entity queries Server for associated services<a class="anchor-link" href="#example-3"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='lx09df27'
    to='shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'/&gt;
&lt;/iq&gt;

&lt;iq from='shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'&gt;
    &lt;item jid='mix.shakespeare.example'
          name='Shakespearean Chat Service'/&gt;
    &lt;item jid='mix2.shakespeare.example'
          name='Another Shakespearean Chat Service'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
    <p class="" style="">To determine if a domain hosts a MIX service, a <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idm45048549802592">12</a>] info query is sent in the usual manner to determine capabilities.</p>
      <figure class="code-example" id="example-4"><figcaption><strong>Example 4.</strong> Entity queries a service<a class="anchor-link" href="#example-4"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
</pre></figure>
    <p class="" style="">The MIX service then MUST return its identity and the features it supports, which MUST include the 'urn:xmpp:mix:core:1' feature, and the identity MUST have a category of 'conference' and a type of 'mix', as shown in the following example: </p>
    <figure class="code-example" id="example-5"><figcaption><strong>Example 5.</strong> Service responds with Disco Info result<a class="anchor-link" href="#example-5"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='conference'
        name='Shakespearean Chat Service'
        type='mix'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco#info'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1#searchable'&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
    <p class="" style="">
      A MIX service MUST return the 'urn:xmpp:mix:core:1' feature  and MAY return the other features listed here:
     </p>
    <ul class="" style="">
      <li class="" style="">'urn:xmpp:mix:core:1': This indicates support of MIX, and is returned by all MIX services.</li>
      <li class="" style="">'urn:xmpp:mix:core:1#searchable': This is shown in the above example and indicates that a the MIX Service MAY be searched for channels.   The presence of this feature can be used by a client to guide the user to search for channels in a MIX service.</li>
      <li class="" style="">'urn:xmpp:mix:core:1#create-channel': This is described in <a href="#usecase-admin-check-create"> Checking for Permission to Create a Channel</a> in support of channel administration.   When an end user client  needs to create channels, perhaps for short term usage, this feature helps the client to identify a MIX service to use.  It enables a configuration where permanent (searchable) channels are placed in one MIX service and clients will be able to create channels in another MIX service which is not searchable.</li>
    </ul>
    <p class="" style="">A MIX service MUST NOT advertise support for <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idm45048549961104">3</a>], as MAM is supported by the channels and not by the service.   A  MIX service MUST NOT advertise support for generic <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>], as although MIX makes use of PubSub it is not a generic PubSub service.</p>
  </div>
  <div class="indent"><h3 id="disco-channel-list">6.2 Discovering the Channels on a Service<a class="anchor-link" href="#disco-channel-list"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The list of channels supported by a MIX service is obtained by a disco#items command.   The MIX service MUST only return channels that exist and that the user making the query has rights to subscribe to.  </p>
    <figure class="code-example" id="example-6"><figcaption><strong>Example 6.</strong> Client Queries for Channels on MIX Service<a class="anchor-link" href="#example-6"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='kl2fax27'
    to='mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'/&gt;
&lt;/iq&gt;
</pre></figure>
    <figure class="code-example" id="example-7"><figcaption><strong>Example 7.</strong> MIX Service Returns Disco Items Result<a class="anchor-link" href="#example-7"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='mix.shakespeare.example'
    id='kl2fax27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'&gt;
    &lt;item jid='coven@mix.shakespeare.example' /&gt;
    &lt;item jid='spells@mix.shakespeare.example' /&gt;
    &lt;item jid='wizards@mix.shakespeare.example' /&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
  </div>
  <div class="indent"><h3 id="disco-channel-info">6.3 Discovering Channel Information<a class="anchor-link" href="#disco-channel-info"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">In order to find out more information about a given channel, a user can send a disco#info query to the channel. </p>
    <figure class="code-example" id="example-8"><figcaption><strong>Example 8.</strong> Entity Queries for Information about a Specific Channel<a class="anchor-link" href="#example-8"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='ik3vs715'
    to='coven@mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
</pre></figure>
    <p class="" style="">If the querying user is allowed to subscribe, the channel MUST return its identity and the features it supports.  Note that a MIX channel MUST support MAM and so the response will always include both MIX and MAM support. </p>
    <p class="" style="">Note that a node MAY be both a MIX channel and a MUC room.   In this case, the node will return both MIX and MUC information.   MIX and MUC clients MUST be able to handle this.</p>
    <figure class="code-example" id="example-9"><figcaption><strong>Example 9.</strong> Channel Returns Disco Info Result<a class="anchor-link" href="#example-9"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.example'
    id='ik3vs715'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='conference'
        name='A Dark Cave'
        type='mix'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco#info'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1'/&gt;
    &lt;feature var='urn:xmpp:mam:2'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
  </div>
  <div class="indent"><h3 id="disco-channel-nodes">6.4 Discovering Nodes at a Channel<a class="anchor-link" href="#disco-channel-nodes"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">Use disco#items to find the nodes associated with a channel.    The MIX service MUST only return nodes that exist and that the user making the query has rights to subscribe to. </p>
    <p class="" style="">
      Discovering nodes in MIX MUST use a node='mix' attribute in this query.   This is to facilitate server implementations that support a single node being both a MIX channel and a MUC room.  MUC rooms use this query to return a list of occupants.  The  node='mix' attribute allows a server to support both MIX and MUC queries without requiring any change to MUC clients.  Where a node only supports a MIX channel, the server MUST reject queries without a node='mix' attribute.
    </p>
    <figure class="code-example" id="example-10"><figcaption><strong>Example 10.</strong> Entity Queries for Nodes at a Channel<a class="anchor-link" href="#example-10"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='kl2fax27'
    to='coven@mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items' node='mix'/&gt;
&lt;/iq&gt;
</pre></figure>
    <figure class="code-example" id="example-11"><figcaption><strong>Example 11.</strong> Channel Returns Disco Items Result<a class="anchor-link" href="#example-11"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.example'
    id='kl2fax27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items' node='mix'&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;item jid='coven@mix.shakespeare.example'
          node='urn:xmpp:mix:nodes:config'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
  </div>
  <div class="indent"><h3 id="find-channel-info">6.5 Determining Information about a Channel<a class="anchor-link" href="#find-channel-info"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">The Information Node contains various information about the channel that can be useful to the user, that the client can access using PubSub, as shown below.</p>
    <figure class="code-example" id="example-12"><figcaption><strong>Example 12.</strong> Client Requests Channel Information<a class="anchor-link" href="#example-12"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='kl2fax27'
    to='coven@mix.shakespeare.example'
    type='get'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:mix:nodes:info'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
</pre></figure>
    <figure class="code-example" id="example-13"><figcaption><strong>Example 13.</strong> MIX Service Returns Channel Information<a class="anchor-link" href="#example-13"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.example'
    id='kl2fax27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:mix:nodes:info'&gt;
      &lt;item id='2016-05-30T09:00:00'&gt;
        &lt;x xmlns='jabber:x:data' type='result'&gt;
          &lt;field var='FORM_TYPE' type='hidden'&gt;
            &lt;value&gt;urn:xmpp:mix:core:1&lt;/value&gt;
          &lt;/field&gt;
          &lt;field var='Name'&gt;
            &lt;value&gt;Witches Coven&lt;/value&gt;
          &lt;/field&gt;
          &lt;field var='Description'&gt;
            &lt;value&gt;A location not far from the blasted heath where
                   the three witches meet&lt;/value&gt;
          &lt;/field&gt;
          &lt;field var='Contact'&gt;
            &lt;value&gt;greymalkin@shakespeare.example&lt;/value&gt;
          &lt;/field&gt;
        &lt;/x&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
</pre></figure>
  </div>
  <div class="indent"><h3 id="find-channel-participants">6.6 Determining the Participants in a Channel<a class="anchor-link" href="#find-channel-participants"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
         Participants in the channel are determined using PubSub retrieval of the Participants Node which will give  Stable Participant
         ID,  JID and nick. Clients using a channel MAY determine participants on start-up, to enable display of participants.  </p>
    <figure class="code-example" id="example-14"><figcaption><strong>Example 14.</strong> User's Client Requests Participant List<a class="anchor-link" href="#example-14"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='kl2fax27'
    to='coven@mix.shakespeare.example'
    type='get'&gt;
    &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
      &lt;items node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;/pubsub&gt;
&lt;/iq&gt;
</pre></figure>
    <figure class="code-example" id="example-15"><figcaption><strong>Example 15.</strong> MIX Service Returns Participant List<a class="anchor-link" href="#example-15"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='coven@mix.shakespeare.example'
    id='kl2fax27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:mix:nodes:participants'&gt;
      &lt;item id='123456'&gt;
        &lt;participant xmlns='urn:xmpp:mix:core:1'&gt;
          &lt;nick&gt;thirdwitch&lt;/nick&gt;
          &lt;jid&gt;hag66@shakespeare.example&lt;/jid&gt;
        &lt;/participant&gt;
      &lt;/item&gt;
      &lt;item id='87123'&gt;
        &lt;participant xmlns='urn:xmpp:mix:core:1'&gt;
          &lt;nick&gt;top witch&lt;/nick&gt;
          &lt;jid&gt;hecate@shakespeare.example&lt;/jid&gt;
        &lt;/participant&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
</pre></figure>

  </div>
  <div class="indent"><h3 id="mix-client-discovery">6.7 Discovering Client MIX Capability<a class="anchor-link" href="#mix-client-discovery"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      Where a client supports MIX, it MUST advertise this capability in response to a Disco request.    This will enable other entities to determine if a client supports MIX, and in particular it facilitates the client's server to determine client support.  This can be optimized by use of CAPS.    The following example shows a Disco request to and response from a client that supports both MIX and MUC.
    </p>
    <figure class="code-example" id="example-16"><figcaption><strong>Example 16.</strong> Disco Query for MIX support<a class="anchor-link" href="#example-16"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
 &lt;iq from='juliet@capulet.example/UUID-e3r/9264'
     id='d1rt87mr4w'
     to='romeo@montague.example/UUID-m2t/3945'
     type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;


&lt;iq from='romeo@montague.example/UUID-m2t/3945'
    id='d1rt87mr4w'
    to='juliet@capulet.example/UUID-e3r/9264'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='client'
        name='Swift'
        type='pc'/&gt;
    &lt;feature var='http://jabber.org/protocol/caps'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco#info'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco#items'/&gt;
    &lt;feature var='http://jabber.org/protocol/muc'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1'/&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
  </div>
<h2 id="usecases">7.
       Use Cases<a class="anchor-link" href="#usecases"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <div class="indent"><h3 id="usecases-user">7.1 Common User Use Cases<a class="anchor-link" href="#usecases-user"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <div class="indent"><h4 id="usecase-jl-model">7.1.1 Model for Join and Leave<a class="anchor-link" href="#usecase-jl-model"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        MIX Join and Leave communication goes through the client's server.   The full specification of client interaction with the client's server is specified in MIX-PAM.    This specification shows the protocol between the user's server and the MIX server and sets out behaviour of the MIX server.
      </p>
    </div>
    <div class="indent"><h4 id="usecase-user-join">7.1.2 Joining a Channel<a class="anchor-link" href="#usecase-user-join"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">A user joins a channel by sending a MIX "join" command from one of the user's clients, which will be relayed to the server as specified in MIX-PAM. There is no default set of nodes, so the user MUST specify the set of nodes to be subscribed to. To achieve the equivalent service to MUC, a user would subscribe to both messages and presence nodes.  A user will typically subscribe to at least the message and/or presence nodes but MAY join and not subscribe to any nodes.  Note that the presence node is specified in MIX-PRESENCE.  The &lt;join/&gt; is a child element of &lt;iq/&gt; element.     The &lt;join/&gt; element is qualified by the 'urn:xmpp:mix:core:1' namespace.    The requested nodes are encoded as &lt;subscribe/&gt; child elements of the &lt;join/&gt; element.  A nick MAY be specified as a &lt;nick/&gt; child elements of the &lt;join/&gt; element. </p>
      <p class="" style="">The join leads to the server subscribing the user to each of the requested nodes associated with the channel. The MIX service will also add the user to the participant list by injecting a new item into the "urn:xmpp:mix:nodes:participants" node automatically.</p>
      <p class="" style="">The default MIX model is that only channel participants are allowed to subscribe to nodes.    A MIX channel MAY allow non-participant subscription to some nodes.   This will be handled by clients directly subscribing to the desired PubSub nodes.</p>
      <p class="" style="">The user's server needs to make roster changes as part of the join functionality, as specified in MIX-PAM.   This means that the join request to the MIX service will come from the user's server from the user's bare JID.</p>
      <figure class="code-example" id="example-17"><figcaption><strong>Example 17.</strong> User's Server sends  Join request to MIX Channel<a class="anchor-link" href="#example-17"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:info'/&gt;
    &lt;nick&gt;third witch&lt;/nick&gt;
  &lt;/join&gt;
&lt;/iq&gt;
</pre></figure>

      <p class="" style="">The channel responds to the user's sever with an IQ-result addressed to the user's bare JID, which will be processed as specified in MIX-PAM. This stanza includes the nodes to which the user has been successfully subscribed, as well as the bare JID that will be used for the user in this channel and added to the participant list.  The user's Stable Participant ID is returned as an 'id' attribute in the join.
       The following example shows the result of the above request when the request is completed in full. </p>
      <figure class="code-example" id="example-18"><figcaption><strong>Example 18.</strong> Channel responds to User's Server<a class="anchor-link" href="#example-18"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='result'
    from='coven@mix.shakespeare.example'
    to='hag66@shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:core:1'
        id='123456'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:presence'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:info'/&gt;
    &lt;nick&gt;third witch&lt;/nick&gt;
  &lt;/join&gt;
&lt;/iq&gt;
</pre></figure>
      <p class="" style="">
        If a user cannot be subscribed to one or more of the requested nodes (e.g., because the node does not exist), but can be subscribed to some the response simply lists the nodes successfully subscribed.    If at least one node is requested and none of the nodes requested are successfully subscribed to, an error response is sent indicating the reason that the first node requested was not subscribed to.   This error response will also include other nodes requested where subscription failed for the same reason. </p>

      <p class="" style="">
        The following response example shows a successful response to the initial request example where
        the participant is not subscribed to all nodes associated with the channel (in this case only messages, participants, and information). This example shows the message from the MIX channel to the user's server.
      </p>
      <figure class="code-example" id="example-19"><figcaption><strong>Example 19.</strong> Channel Processes Join With Some Nodes Not Subscribed To<a class="anchor-link" href="#example-19"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='result'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;join xmlns='urn:xmpp:mix:core:1'
        id='123456'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:participants'/&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:info'/&gt;
    &lt;nick&gt;third witch&lt;/nick&gt;
  &lt;/join&gt;
&lt;/iq&gt;
</pre></figure>
      <p class="" style="">
        After a successful join and before sending the response, the channel MUST subscribe the user to the negotiated nodes and
        adds the user to the participants node.   When these changes are made, the MIX channel MUST send a PubSub notification of the change to subscribers of the participants node.  The following example shows such a notification.</p>
      <figure class="code-example" id="example-20"><figcaption><strong>Example 20.</strong> Channel Distributes New Participant Information<a class="anchor-link" href="#example-20"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message from='coven@mix.shakespeare.example'
         to='hecate@shakespeare.example'
         id='5A9C7398-DB13-4BFA-A091-2D466C710AAF'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='urn:xmpp:mix:nodes:participants'&gt;
      &lt;item id='123456'&gt;
        &lt;participant xmlns='urn:xmpp:mix:core:1'&gt;
          &lt;jid&gt;hag66@shakespeare.example&lt;/jid&gt;
          &lt;nick&gt;third witch&lt;/nick&gt;
        &lt;/participant&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
</pre></figure>
      <p class="" style="">The user that has been added to the channel is identified by the item id of the item added to the Participants node, which is the Stable Participant ID of the new channel participant.  The &lt;participant&gt; element MUST include a &lt;jid&gt; element with the JID of the participant, unless MIX-ANON is being followed to hide participant JIDs.    The &lt;nick&gt; element will not be included at this point, unless it is automatically generated by the channel.   In the likely event that a Nick is subsequently added, an update with the &lt;nick&gt; element will be distributed.
</p>

      <p class="" style="">
        A user MAY subsequently modify subscription to nodes in a channel by sending a subscription modification request encoded as a &lt;update-subscription/&gt;  child element of &lt;iq/&gt; element. The &lt;update-subscription/&gt; element is qualified by the 'urn:xmpp:mix:core:1' namespace.  The requested nodes are encoded as &lt;subscribe/&gt; and &lt;unsubscribe/&gt; child elements of the &lt;update-subscription/&gt; element with the node name encoded as a 'node' attribute.  This modification goes directly from client to the MIX channel, as this change does not impact the roster and so does not need any local action.  The following example shows subscription modification.
      </p>
      <figure class="code-example" id="example-21"><figcaption><strong>Example 21.</strong> User Modifies Subscription Request<a class="anchor-link" href="#example-21"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example/UUID-a1j/7533'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;update-subscription xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;unsubscribe node='urn:xmpp:mix:nodes:presence'/&gt;
  &lt;/update-subscription&gt;
&lt;/iq&gt;

&lt;iq type='result'
     from='coven@mix.shakespeare.example'
     to='hag66@shakespeare.example/UUID-a1j/7533'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;update-subscription xmlns='urn:xmpp:mix:core:1'
                       jid='hag66@shakespeare.example'&gt;
    &lt;subscribe node='urn:xmpp:mix:nodes:messages'/&gt;
    &lt;unsubscribe node='urn:xmpp:mix:nodes:presence'/&gt;
  &lt;/update-subscription&gt;
&lt;/iq&gt;
</pre></figure>
      <p class="" style="">
        A user MAY specify a nick when joining the channel.   Channels MAY have mandatory nicks, which is default behavior.   Therefore it will generally be necessary to include a nick when joining a channel.   If nick is missing on a channel where nick is mandatory, the join MUST be rejected.   Other error cases are dealt with below with the nick management commands.  Where a nick is specified, the join will only complete if the nick is accepted.   The nick used MUST be reported back in the join result.
      </p>
    </div>
    <div class="indent"><h4 id="usecase-user-leaving">7.1.3 Leaving a Channel<a class="anchor-link" href="#usecase-user-leaving"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">Users generally remain in a channel for an extended period of time.  In particular the user remains as a participant of the channel when the user goes offline.  Note that this is different to  <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>], where the client leaves a room when going offline. So, leaving a MIX channel is a permanent action for a user across all clients.  In order to  leave a channel, the user's server sends a MIX "leave" command to the channel, as specified in MIX-PAM.  The leave command is encoded as a &lt;leave/&gt; child element of &lt;iq/&gt; element.  The &lt;leave/&gt; element is qualified by the 'urn:xmpp:mix:core:1' namespace.  The following example shows a leave request to a MIX channel.  </p>
      <figure class="code-example" id="example-22"><figcaption><strong>Example 22.</strong> User's Server sends  Leave Request to  a Channel<a class="anchor-link" href="#example-22"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example'
    to='coven@mix.shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;leave xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;
</pre></figure>

    <p class="" style="">
      The MIX channel will then remove the user from the channel, as described below.   A response is sent to the user's server.
    </p>
      <figure class="code-example" id="example-23"><figcaption><strong>Example 23.</strong> Channel Confirms Leave to User's Server<a class="anchor-link" href="#example-23"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='result'
    from='coven@mix.shakespeare.example'
    to='hag66@shakespeare.example'
    id='E6E10350-76CF-40C6-B91B-1EA08C332FC7'&gt;
  &lt;leave xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;
</pre></figure>
      <p class="" style="">When the user leaves the channel, the MIX service is responsible for unsubscribing the user from all nodes in the channel and for removing the user from the participants list.  Presence removal is specified in MIX-PRESENCE.
        Deletion from the participants node functions as if the item (channel participant) had been deleted using the PubSub retract mechanism with notification set to true.    Notification of the participant deletion is sent to clients subscribed to the participants  PubSub node using PubSub protocol, with the node identified by the stable id, as shown in the example below.
      </p>

      <figure class="code-example" id="example-24"><figcaption><strong>Example 24.</strong> Participant Node Subscriber is Notified of Participant Removal<a class="anchor-link" href="#example-24"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message from='coven@mix.shakespeare.example'
                to='hecate@shakespeare.example' id='f5pp2toz'&gt;
   &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='urn:xmpp:mix:nodes:participants'&gt;
      &lt;retract id='123456'/&gt;
    &lt;/items&gt;
  &lt;/event&gt;            
&lt;/message&gt;
</pre></figure>
      

    </div>

    <div class="indent"><h4 id="usecase-setting-nick">7.1.4 Setting a Nick<a class="anchor-link" href="#usecase-setting-nick"><abbr title="Link to this point in the document">¶</abbr></a></h4>
    <p class="" style="">
      Each participant of a channel MAY have a nick, which is how other users in the channel will see the user.  In some cases a nick is not needed, for example where a user reads messages in a channel but does not send messages or share presence information.     There are four ways that a user's nick can be obtained.   The choice of mechanism or mechanisms is dependent on channel policy:
    </p>
    <ol start="" class="" style="">
      <li class="" style="">The nick is registered with the user account in some way, for example as part of user provisioning with nick configured as an attribute in a directory service.   For example, this could be chosen by corporate services that wish to ensure consistent nick values for a set of users and channels.</li>
      <li class="" style="">The nick is registered with the MIX service, as described in  <a href="#usecase-user-register"> Registering a Nick </a>.</li>
      <li class="" style="">The user explicitly sets the nick, as described in this section.</li>
      <li class="" style="">The MIX service generates the nick.  </li>
    </ol>
    <p class="" style="">
      A user will typically set a nick when joining a channel and MAY update this nick from time to time.   The user does this by sending a command to the channel to set the nick.  This command is a &lt;setnick/&gt; child element of &lt;iq/&gt; element. The &lt;setnick/&gt; element is qualified by the 'urn:xmpp:mix:core:1' namespace.   The nick is encoded as a &lt;nick/&gt; child element of the &lt;setnick/&gt; element. If the user wishes the channel to assign a nick (or knows that the channel will assign a nick) the nick field can be left blank, so that the user can see what is assigned in the result.
    </p>
    <figure class="code-example" id="example-25"><figcaption><strong>Example 25.</strong> User sets Nick on Channel<a class="anchor-link" href="#example-25"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set'
    from='hag66@shakespeare.example/UUID-a1j/7533'
    to='coven@mix.shakespeare.example'
    id='7nve413p'&gt;
  &lt;setnick xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
  &lt;/setnick&gt;
&lt;/iq&gt;
</pre></figure>
    <p class="" style="">
      On successful nick assignment, the channel will return the nick that is to be used, noting that this MAY be different to the requested nick. MIX services SHOULD apply the "nickname" profile of the PRECIS OpaqueString class, as defined in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc7700">RFC 7700</a></span>  [<a href="#nt-idm45048549533856">17</a>].  The channel MAY return a conflict error or other appropriate error.
    </p>

    <figure class="code-example" id="example-26"><figcaption><strong>Example 26.</strong> Channel informs user of Nick<a class="anchor-link" href="#example-26"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='result'
    from='coven@mix.shakespeare.example'
    to'hag66@shakespeare.example/UUID-a1j/7533'
    id='7nve413p'&gt;
  &lt;setnick xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
  &lt;/setnick&gt;
&lt;/iq&gt;
</pre></figure>
    </div>
    <div class="indent"><h4 id="usecase-sync-history">7.1.5 Coming Online: Synchronizing Message History<a class="anchor-link" href="#usecase-sync-history"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        A MIX client will typically display message history of the channel to the user.   When a client comes online it will need to obtain this message history from the MAM archive associated with the channel on the client's server.  There are three basic approaches a client will take:
      </p>
      <ol start="" class="" style="">
        <li class="" style="">If the client has previously displayed message history and has been offline for a reasonably small time, the client MAY wish to retrieve all messages since the last one displayed to the user.</li>
        <li class="" style="">The client MAY wish to display a fixed number of messages, perhaps finding more messages if the user subsequently requests.</li>
        <li class="" style="">The client MAY wish to display messages from a recent time period, perhaps finding more messages if the user subsequently requests.</li>
      </ol>
      <p class="" style="">To achieve this, the client will query the user's own MAM archive using <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idm45048549961104">3</a>], with the query filtered by the channel JID.   This gives the client flexibility to retrieve and display message history in a manner appropriate to the client implementation.</p>
      <p class="" style="">
        The only exception to this is when a user wishes to access message history in the channel prior to when the user joined the channel.  To achieve this, the client will use MAM to retrieve message history directly from the MAM Archive of the MIX channel.
      </p>
    </div>
    <div class="indent"><h4 id="usecase-user-message">7.1.6 Sending a Message<a class="anchor-link" href="#usecase-user-message"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">A client sends a message directly to a MIX channel as a standard groupchat message, in exactly the same way as for <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>]. Messages are sent directly to the MIX channel from the user's client. The message id is selected by the client.</p>
      <figure class="code-example" id="example-27"><figcaption><strong>Example 27.</strong> User Sends Message to Channel<a class="anchor-link" href="#example-27"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message from='hag66@shakespeare.example/UUID-a1j/7533'
         to='coven@mix.shakespeare.example'
         id='92vax143g'
         type='groupchat'&gt;
  &lt;body&gt;Harpier cries: 'tis time, 'tis time.&lt;/body&gt;
&lt;/message&gt;
</pre></figure>
      <p class="" style="">
        The MIX channel then adds information to the message using a &lt;mix&gt; element qualified by the 'urn:xmpp:mix:core:1' namespace.  This enables are receiver of the MIX message to determine the message sender.  This element contains two child elements:
      </p>
      <ol start="" class="" style="">
        <li class="" style="">A &lt;nick&gt; element that contains the Nick of the message sender, taken from the Participants Node.  This MUST be present if a Nick is defined for the user.</li>
        <li class="" style="">A &lt;jid&gt; element containing the real JID of the sender. This MUST be present, unless following the "JID Hidden" model defined in MIX-ANON.  If this element is omitted, the &lt;nick&gt; element MUST be present.</li>
      </ol>
      <p class="" style="">
        MIX messages are distributed by the channel with the from using the JID of the channel, with the Stable Participant ID of the sender in the resource.    This enables a receiving system to distinguish messages based on sender using only the JID.   
      </p>
      <p class="" style="">The MIX channel then puts a copy of the message into the MAM archive for the channel and sends a copy of  the message to each participant in
        standard groupchat format.    These messages sent by the channel are addressed to the bare JID of each participant and this will be handled by the participant's local server as specified in MIX-PAM.  The message 'from' attribute is the JID of the channel.   The id of the message is the ID from the MAM archive and NOT the id used by the sender. The message placed in the MAM archive is the reflected message without a 'to' attribute.</p>


      <figure class="code-example" id="example-28"><figcaption><strong>Example 28.</strong> Channel Puts Message in MAM Archive<a class="anchor-link" href="#example-28"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message from='coven@mix.shakespeare.example'
         id='77E07BB0-55CF-4BD4-890E-3F7C0E686BBD'
         type='groupchat'&gt;
  &lt;body&gt;Harpier cries: 'tis time, 'tis time.&lt;/body&gt;
  &lt;mix xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
    &lt;jid&gt;hag66@shakespeare.example&lt;/jid&gt;
  &lt;/mix&gt;
&lt;/message&gt;
</pre></figure>

      <figure class="code-example" id="example-29"><figcaption><strong>Example 29.</strong> Channel Reflects Message to Participants<a class="anchor-link" href="#example-29"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message from='coven@mix.shakespeare.example/123456'
         to='hecate@shakespeare.example'
         id='77E07BB0-55CF-4BD4-890E-3F7C0E686BBD'
         type='groupchat'&gt;
  &lt;body&gt;Harpier cries: 'tis time, 'tis time.&lt;/body&gt;
  &lt;mix xmlns='urn:xmpp:mix:core:1'&gt;
    &lt;nick&gt;thirdwitch&lt;/nick&gt;
    &lt;jid&gt;hag66@shakespeare.example&lt;/jid&gt;
  &lt;/mix&gt;
&lt;/message&gt;
</pre></figure>

 
      <p class="" style="">
        The message originator may wish to correlate the reflected message with the submitted message.  To do this, the originator should include an &lt;origin-id&gt; element in the message as specified in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0359.html">Unique and Stable Stanza IDs (XEP-0359)</a></span>  [<a href="#nt-idm45048549497920">18</a>].

      </p>
      
    </div>
  </div>
  <div class="indent"><h3 id="use-mam">7.2 Use of MAM<a class="anchor-link" href="#use-mam"><abbr title="Link to this point in the document">¶</abbr></a></h3>
   <p class="" style="">
    MIX channel nodes MAY be archived.  In order to provide a service equivalent to MUC, it is necessary to archive messages sent to the channel.   It is anticipated the most MIX services will archive at least messages using MAM.
   </p>
    <div class="indent"><h4 id="use-mam-messages">7.2.1 Archive of Messages<a class="anchor-link" href="#use-mam-messages"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        Messages sent to participants MUST be archived by both the MIX channel and by the user's server.   This  MAY include presence messages.   Correct MIX operation relies on messages being archived.
      </p>
    </div>
    <div class="indent"><h4 id="use-mam-retrieve">7.2.2 Retrieving Messages<a class="anchor-link" href="#use-mam-retrieve"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        The client's local server MAY archive messages and advertise this capability as specified in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0405.html">Mediated Information eXchange (MIX): Participant Server Requirements (XEP-0405)</a></span>  [<a href="#nt-idm45048549908720">7</a>].   If this is done,
        clients MUST retrieve MIX messages using standard MAM protocol from the user's archive.  The MAM query will filter based on the channel JID to enable access to messages from a given channel. This gives the user a simple mechanism to access all messages sent to the channel.   MAM can be used to retrieve older messages that have not been cached by the client.
      </p>
      <p class="" style="">
        Messages can also be retrieved from the channel by addressing MAM queries to the channel JID.   This will behave like a standard MAM archive.  This can be useful for administrators to access archived messages.  This enables new channel participants to access the historical archives.
      </p>
    </div>
    <div class="indent"><h4 id="use-mam-other-nodes">7.2.3 MAM Use with other Channel Nodes<a class="anchor-link" href="#use-mam-other-nodes"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        A MIX Channel MAY use MAM to archive nodes other than message nodes.   Clients with rights to access these archives MAY use MAM to do this, specifying the PubSub node in the MAM query addressed to the channel.
      </p>
    </div>
  </div>


  <div class="indent"><h3 id="usecases-admin">7.3 Administrative Use Cases<a class="anchor-link" href="#usecases-admin"><abbr title="Link to this point in the document">¶</abbr></a></h3>


    <div class="indent"><h4 id="usecase-admin-check-create">7.3.1 Checking For Permission To Create a Channel<a class="anchor-link" href="#usecase-admin-check-create"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        MIX does not standardize an access control model for creating and deleting MIX channels.    The choice is left to the MIX implementer, and could be a very simple or complex approach.  A client can determine if it has permission to create a channel on a MIX service, which MAY be used to control options presented to the user.   This is achieved by a disco command on the MIX service.   If the 'urn:xmpp:mix:core:1#create-channel' feature is returned, the user is able to create a channel.
      </p>
        <figure class="code-example" id="example-30"><figcaption><strong>Example 30.</strong> Client determines Capability to Create a Channel<a class="anchor-link" href="#example-30"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
 &lt;iq from='hag66@shakespeare.example/UUID-c8y/1573'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;

&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-c8y/1573'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity
        category='conference'
        name='Shakespearean Chat Service'
        type='mix'/&gt;
    &lt;feature var='http://jabber.org/protocol/disco#info'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1'/&gt;
    &lt;feature var='urn:xmpp:mix:core:1#create-channel'&gt;
  &lt;/query&gt;
&lt;/iq&gt;
</pre></figure>
    </div>
    <div class="indent"><h4 id="usecase-admin-create">7.3.2 Creating a Channel<a class="anchor-link" href="#usecase-admin-create"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        A client creates a channel by sending a simple request to the MIX service.   A channel is always created with default parameters, as shown in the following example.   The result MUST include the name of the channel which MUST match the channel name in the request (if present).  The create is encoded as a &lt;create/&gt; child element of &lt;iq/&gt; element.   The &lt;create/&gt; is qualified by the 'urn:xmpp:mix:core:1' namespace.   The &lt;create/&gt; element MUST have a 'channel' attribute to specify the channel name.  This attribute specifies the value that will be used in the LHS of the JID for the MIX channel.
      </p>
        <figure class="code-example" id="example-31"><figcaption><strong>Example 31.</strong> Creating a Channel with Default Parameters<a class="anchor-link" href="#example-31"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-a1j/7533'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='set'&gt;
  &lt;create channel='coven' xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;

&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-a1j/7533'
    type='result'&gt;
  &lt;create channel='coven' xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;
</pre></figure>

      <p class="" style="">
        When a channel is created , the Owner in the configuration is set to the JID that creates the channel.   Modifying channel parameters is specified in MIX-ADMIN.  Consideration should be given to selection of default parameters.  It will typically be desirable to create channels with restrictive default settings that the owner MAY choose to relax.
      </p>

    </div>


    <div class="indent"><h4 id="usecase-admin-create-adhoc">7.3.3 Creating a Channel for Ad Hoc Use<a class="anchor-link" href="#usecase-admin-create-adhoc"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        Channels MAY be created for ad hoc use between a set of users.  Channels of this nature will have channel name created by the server and will not be addressable or discoverable.  Here a channel is created without specifying the channel name.   Parameters for the channel MAY also be specified.
      </p>
      <figure class="code-example" id="example-32"><figcaption><strong>Example 32.</strong> Creating a Channel for Ad Hoc Use<a class="anchor-link" href="#example-32"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='hag66@shakespeare.example/UUID-a1j/7533'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='set'&gt;
  &lt;create xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;

&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-a1j/7533'
    type='result'&gt;
  &lt;create channel='A1B2C345' xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;
</pre></figure>
   </div>


    <div class="indent"><h4 id="usecase-admin-destroy">7.3.4 Destroying a Channel<a class="anchor-link" href="#usecase-admin-destroy"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        MIX channels are always explicitly destroyed by an owner of the channel or by a server operator. There is no concept of temporary channel, equivalent to <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>] temporary room which is automatically destroyed by the server when the users leave.   However, channels MAY be configured with an explicit lifetime, after which the channel MUST be removed by the MIX service; This is specified in MIX-ADMIN.   Where a channel is created for ad hoc use, it MAY be desirable to keep the channel for history reference or for re-use by the same set of users.  Note that the owner of the channel does not need to have presence registered in the channel in order to destroy it.
     </p>
      <p class="" style="">
        The destroy operation is encoded as a &lt;destroy/&gt; child element of an &lt;iq/&gt; element.  The &lt;destroy/&gt; element is qualified by the 'urn:xmpp:mix:core:1' namespace.  The &lt;destroy/&gt; element MUST have a 'channel' attribute to specify the channel to be destroyed.
        A client destroys a channel using a simple set operation, as shown in the following example.
      </p>
      <figure class="code-example" id="example-33"><figcaption><strong>Example 33.</strong> Client Destroys a Channel<a class="anchor-link" href="#example-33"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
 &lt;iq from='hag66@shakespeare.example/UUID-a1j/7533'
    id='lx09df27'
    to='mix.shakespeare.example'
    type='set'&gt;
  &lt;destroy channel='coven' xmlns='urn:xmpp:mix:core:1'/&gt;
&lt;/iq&gt;

&lt;iq from='mix.shakespeare.example'
    id='lx09df27'
    to='hag66@shakespeare.example/UUID-a1j/7533'
    type='result'&gt;
&lt;/iq&gt;
</pre></figure>
    </div>
    <div class="indent"><h4 id="usecase-server-destroy">7.3.5 Server Destroying a Channel<a class="anchor-link" href="#usecase-server-destroy"><abbr title="Link to this point in the document">¶</abbr></a></h4>
      <p class="" style="">
        A server MUST destroy a channel that has exceeded its specified explicit lifetime.
        Servers MAY destroy channels which have no participants and/or presence according to local policy.   There will often be good reasons to not destroy rooms in these scenarios, in particular to facilitate channel re-use and history access.
      </p>
    </div>
  </div>
<h2 id="not-included-from45">8.
       Capabilities not provided in MIX<a class="anchor-link" href="#not-included-from45"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">This section lists a number of capabilities not specified in the core MIX which are provided in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>].   These capabilities will not be added to core MIX but they could in the future be specified as independent XEPs.</p>
  <div class="indent"><h3 id="password-control">8.1 Password Controlled Channels<a class="anchor-link" href="#password-control"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>] provides a mechanism to control access to MUC rooms using passwords.  An equivalent mechanism is not included in core MIX, as it has a number of security issues.  Control of access to channels is better achieved using an explicit list of participants.
    </p>
  </div>
  <div class="indent"><h3 id="voice-control">8.2 Voice Control<a class="anchor-link" href="#voice-control"><abbr title="Link to this point in the document">¶</abbr></a></h3>
    <p class="" style="">
      <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>] defines a mechanism so that MUC moderators can control who is able to send messages to a MUC room using a "voice" mechanism.  MIX does not provide an exact functional equivalent, although access control to channels enables some of the goals of voice control to be achieved in a different manner.

    </p>
  </div>

<div class="indent"><h3 id="not-subject">8.3 Subject<a class="anchor-link" href="#not-subject"><abbr title="Link to this point in the document">¶</abbr></a></h3>
  <p class="" style=""><span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>] provide a Subject capability to enable setting of the current topic of discussion.   The Name and Description attributes provided by MIX enable descriptive information to be associated with a channel.   These attributes can replace Subject in the way it is used in many MUC rooms, but they do not reflect the more limited topic nature of Subject.</p>
  <p class="" style="">It is likely that a new XEP to be used with MIX will be written, perhaps using a "Sticky Messages" approach to fulfil the Subject capability using a different approach. </p>
</div>
<h2 id="i18n">9.
       Internationalization Considerations<a class="anchor-link" href="#i18n"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">MIX allows specification of a number of human readable strings associated with a MIX channel, in particular the name and description information of a  MIX channel.   These strings MAY have language set using an xml:lang attribute, and multiple values MAY be set provided that each one is distinguished using xml:lang.
  </p>

  <p class="" style="">Nicknames SHOULD be normalized using the "nickname" profile of the PRECIS OpaqueString class, as defined in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc7700">RFC 7700</a></span>  [<a href="#nt-idm45048549533856">17</a>]. </p>
<h2 id="security">10.
       Security Considerations<a class="anchor-link" href="#security"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">MIX is built over MAM and PubSub and the security considerations of <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0313.html">Message Archive Management (XEP-0313)</a></span>  [<a href="#nt-idm45048549961104">3</a>] and <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0060.html">Publish-Subscribe (XEP-0060)</a></span>  [<a href="#nt-idm45048549965472">2</a>] MUST be considered. These services protect MIX channel information, which can be sensitive and needs appropriate protection.</p>
 
  <p class="" style="">
    There is no MIX equivalent to <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm45048549976784">1</a>] password controlled rooms, which avoids a number of security issues.
  </p>
  <p class="" style="">
    MIX-ADMIN defines  flexible access control options, which MUST be used in a manner appropriate to the security requirements of MIX users and services.
  </p>

<h2 id="iana">11.
       IANA Considerations<a class="anchor-link" href="#iana"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">None.</p>
<h2 id="registrar">12.
       XMPP Registrar Considerations<a class="anchor-link" href="#registrar"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">The urn:xmpp:mix namespace needs to be registered.</p>
  <p class="" style="">The conference type 'mix' needs to be registered.</p>
<h2 id="schema">13.
       XML Schema<a class="anchor-link" href="#schema"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">To be supplied when MIX progresses to proposed standard.</p>
<h2 id="ack">14.
       Acknowledgements<a class="anchor-link" href="#ack"><abbr title="Link to this point in the document">¶</abbr></a></h2>
  <p class="" style="">Peter St Andre provided key early input to MIX and worked on the original specification with Kevin Smith. </p>
  <p class="" style="">Thanks to the following who have made contributions to the ongoing MIX specification development: W. Martin Borgert, Dave Cridland, Daniel Gultsch, Tarun Gupta, Philipp Hancke, Waqas Hussain, Timothée Jaussoin, Evgeny Khramtsov, Georg Lukas, Tobias Markmann, Ralph Meijer, Edwin Mons, Emmanuel Gil Peyrot, Manuel Rubio, Florian Schmaus, Lance Stout, Sam Whited, Jonas Wielicki, Matthew Wild and one anonymous reviewer.</p>
<hr><a name="appendices"></a><h2>Appendices</h2><h3 id="appendix-docinfo">Appendix A: Document Information<a class="anchor-link" href="#appendix-docinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><dl class="compact"><dt>Series</dt><dd><a href="http://xmpp.org/extensions/">XEP</a></dd><dt>Number</dt><dd>0369</dd><dt>Publisher</dt><dd><a href="/xsf/">XMPP Standards Foundation</a></dd><dt>Status</dt><dd><a href="http://xmpp.org/extensions/xep-0001.html#states-Experimental">Experimental</a></dd><dt>Type</dt><dd><a href="http://xmpp.org/extensions/xep-0001.html#types-Standards%20Track">Standards Track</a></dd><dt>Version</dt><dd>0.14.5</dd><dt>Last Updated</dt><dd>2020-11-03</dd><dt>Approving Body</dt><dd><a href="http://xmpp.org/council/">XMPP Council</a></dd><dt>Dependencies</dt><dd>XMPP Core, XMPP IM, XEP-0004, XEP-0030, XEP-0054, XEP-0060, XEP-0084, XEP-0128, XEP-0198, XEP-0292, XEP-0297, XEP-0313, XEP-0372</dd><dt>Supersedes</dt><dd>None</dd><dt>Superseded By</dt><dd>None</dd><dt>Short Name</dt><dd>MIX-CORE</dd><dt>Source Control</dt><dd><a class="standardsButton" href="https://github.com/xsf/xeps/blob/master/xep-0369.xml">HTML</a></dd></dl><p>
          This document in other formats:
          <a class="standardsButton" href="http://xmpp.org/extensions/xep-0369.xml">XML</a> 
          <a class="standardsButton" href="http://xmpp.org/extensions/xep-0369.pdf">PDF</a></p><h3 id="appendix-authorinfo">Appendix B: Author Information<a class="anchor-link" href="#appendix-authorinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><h5>Kevin Smith</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:kevin.smith@isode.com">kevin.smith@isode.com</a></dd><dt>JabberID</dt><dd><a href="xmpp:kevin.smith@isode.com">kevin.smith@isode.com</a></dd></dl><h5>Steve Kille</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:steve.kille@isode.com">steve.kille@isode.com</a></dd><dt>JabberID</dt><dd><a href="xmpp:steve.kille@isode.com">steve.kille@isode.com</a></dd></dl><h3 id="appendix-legal">Appendix C: Legal Notices<a class="anchor-link" href="#appendix-legal"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><h4>Copyright</h4><p>This XMPP Extension Protocol is copyright © 1999 – 2020 by the <a href="https://xmpp.org/">XMPP Standards Foundation</a> (XSF).</p><h4>Permissions</h4><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.</p><h4>Disclaimer of Warranty</h4><p class="box info">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</p><h4>Limitation of Liability</h4><p>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.</p><h4>IPR Conformance</h4><p>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="https://xmpp.org/about/xsf/ipr-policy">https://xmpp.org/about/xsf/ipr-policy</a>&gt; or obtained by writing to XMPP Standards Foundation, P.O. Box 787, Parker, CO 80134 USA).</p><h4>Visual Presentation</h4><p>The HTML representation (you are looking at) is maintained by the XSF. It is based on the <a href="http://yaml.de">YAML CSS Framework</a>, which is licensed under the terms of the <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-SA 2.0</a> license.</p></div><h3 id="appendix-xmpp">Appendix D: Relation to XMPP<a class="anchor-link" href="#appendix-xmpp"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 6120) and XMPP IM (RFC 6121) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h3 id="appendix-discuss">Appendix E: Discussion Venue<a class="anchor-link" href="#appendix-discuss"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h3 id="appendix-conformance">Appendix F: Requirements Conformance<a class="anchor-link" href="#appendix-conformance"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><h3 id="appendix-notes">Appendix G: Notes<a class="anchor-link" href="#appendix-notes"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><p><a name="nt-idm45048549976784">1</a>. XEP-0045: Multi-User Chat &lt;<a href="https://xmpp.org/extensions/xep-0045.html">https://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-idm45048549965472">2</a>. XEP-0060: Publish-Subscribe &lt;<a href="https://xmpp.org/extensions/xep-0060.html">https://xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-idm45048549961104">3</a>. XEP-0313: Message Archive Management &lt;<a href="https://xmpp.org/extensions/xep-0313.html">https://xmpp.org/extensions/xep-0313.html</a>&gt;.</p><p><a name="nt-idm45048549935056">4</a>. XEP-0289: Federated MUC for Constrained Environments &lt;<a href="https://xmpp.org/extensions/xep-0289.html">https://xmpp.org/extensions/xep-0289.html</a>&gt;.</p><p><a name="nt-idm45048549921232">5</a>. XEP-0369: Mediated Information eXchange (MIX) &lt;<a href="https://xmpp.org/extensions/xep-0369.html">https://xmpp.org/extensions/xep-0369.html</a>&gt;.</p><p><a name="nt-idm45048549917088">6</a>. XEP-0403: Mediated Information eXchange (MIX): Presence Support. &lt;<a href="https://xmpp.org/extensions/xep-0403.html">https://xmpp.org/extensions/xep-0403.html</a>&gt;.</p><p><a name="nt-idm45048549908720">7</a>. XEP-0405: Mediated Information eXchange (MIX): Participant Server Requirements &lt;<a href="https://xmpp.org/extensions/xep-0405.html">https://xmpp.org/extensions/xep-0405.html</a>&gt;.</p><p><a name="nt-idm45048549902848">8</a>. XEP-0406: Mediated Information eXchange (MIX): MIX Administration &lt;<a href="https://xmpp.org/extensions/xep-0406.html">https://xmpp.org/extensions/xep-0406.html</a>&gt;.</p><p><a name="nt-idm45048549898736">9</a>. XEP-0404: Mediated Information eXchange (MIX): JID Hidden Channels. &lt;<a href="https://xmpp.org/extensions/xep-0404.html">https://xmpp.org/extensions/xep-0404.html</a>&gt;.</p><p><a name="nt-idm45048549889840">10</a>. XEP-0407: Mediated Information eXchange (MIX): Miscellaneous Capabilities &lt;<a href="https://xmpp.org/extensions/xep-0407.html">https://xmpp.org/extensions/xep-0407.html</a>&gt;.</p><p><a name="nt-idm45048549885680">11</a>. XEP-0408: Mediated Information eXchange (MIX): Co-existence with MUC &lt;<a href="https://xmpp.org/extensions/xep-0408.html">https://xmpp.org/extensions/xep-0408.html</a>&gt;.</p><p><a name="nt-idm45048549802592">12</a>. XEP-0030: Service Discovery &lt;<a href="https://xmpp.org/extensions/xep-0030.html">https://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-idm45048549797968">13</a>. XEP-0163: Personal Eventing Protocol &lt;<a href="https://xmpp.org/extensions/xep-0163.html">https://xmpp.org/extensions/xep-0163.html</a>&gt;.</p><p><a name="nt-idm45048549685536">14</a>. XEP-0004: Data Forms &lt;<a href="https://xmpp.org/extensions/xep-0004.html">https://xmpp.org/extensions/xep-0004.html</a>&gt;.</p><p><a name="nt-idm45048549671456">15</a>. RFC 6120: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc6120">http://tools.ietf.org/html/rfc6120</a>&gt;.</p><p><a name="nt-idm45048549667008">16</a>. RFC 6121: Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence &lt;<a href="http://tools.ietf.org/html/rfc6121">http://tools.ietf.org/html/rfc6121</a>&gt;.</p><p><a name="nt-idm45048549533856">17</a>. RFC 7700: Preparation, Enforcement, and Comparison of Internationalized Strings Representing Nicknames&lt;<a href="http://tools.ietf.org/html/rfc7700">http://tools.ietf.org/html/rfc7700</a>&gt;.</p><p><a name="nt-idm45048549497920">18</a>. XEP-0359: Unique and Stable Stanza IDs &lt;<a href="https://xmpp.org/extensions/xep-0359.html">https://xmpp.org/extensions/xep-0359.html</a>&gt;.</p></div><h3 id="appendix-revs">Appendix H: Revision History<a class="anchor-link" href="#appendix-revs"><abbr title="Link to this point in the document">¶</abbr></a></h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><ol class="revision-history"><li id="revision-history-v0.14.5"><div class="revision-head">Version 0.14.5 (2020-11-03)<a class="anchor-link" href="#revision-history-v0.14.5"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Fix various typos</p><div class="revision-author">gh/@melvo</div></li><li id="revision-history-v0.14.4"><div class="revision-head">Version 0.14.4 (2020-03-26)<a class="anchor-link" href="#revision-history-v0.14.4"><abbr title="Link to this point in the document">¶</abbr></a></div><ul class="" style="">
      <li class="" style="">Add missing disco#info features or identities in disco#info examples.</li>
      <li class="" style="">Fix typo in examples (xlns→xmlns).</li>
      <li class="" style="">Rename urn:xmpp:mix:nodes:information to urn:xmpp:mix:nodes:info in the text.</li>
      <li class="" style="">Add a way to unsubscribe from nodes without leaving a channel.</li>
    </ul><div class="revision-author">egp</div></li><li id="revision-history-v0.14.3"><div class="revision-head">Version 0.14.3 (2020-03-03)<a class="anchor-link" href="#revision-history-v0.14.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Minor editorial fixes</p><div class="revision-author">ps</div></li><li id="revision-history-v0.14.2"><div class="revision-head">Version 0.14.2 (2019-03-18)<a class="anchor-link" href="#revision-history-v0.14.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Replace &lt;submission-id/&gt; with XEP-0359;
      Make Message Archiving Optional;
      Clarify that participant node only contains real JIDs;
      Change message retrieval from archive to reflect that MIX-PAM archive is now optional;
      Bump namespace to core:1;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.14.1"><div class="revision-head">Version 0.14.1 (2019-01-05)<a class="anchor-link" href="#revision-history-v0.14.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Remove MIX xmlns from pubsub channel info &lt;item/&gt; example;
    </p><div class="revision-author">lnj</div></li><li id="revision-history-v0.14.0"><div class="revision-head">Version 0.14.0 (2018-12-10)<a class="anchor-link" href="#revision-history-v0.14.0"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      remove node='mix' for channel discovery;
      ensure conference is type mix, and note registration requirements;
      fix retract id example; 
      clarify that channels always created with default parameters;
      change to reflect that XEP-0004 does not support multiple languages;
      correct retract to use pubsub syntax;
      editorial;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.13.0"><div class="revision-head">Version 0.13.0 (2018-06-06)<a class="anchor-link" href="#revision-history-v0.13.0"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
     Make Nicks mandatory by default;
     Add Nick Setting to Join;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.12.0"><div class="revision-head">Version 0.12.0 (2018-06-05)<a class="anchor-link" href="#revision-history-v0.12.0"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Remove Proxy JID;
      Add Stable Participant ID;
      Remove recommendation to generate Nick as UUID;
      Add guidance on Nick display;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.11.3"><div class="revision-head">Version 0.11.3 (2018-05-24)<a class="anchor-link" href="#revision-history-v0.11.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Fix example message with proxy JID;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.11.2"><div class="revision-head">Version 0.11.2 (2018-05-24)<a class="anchor-link" href="#revision-history-v0.11.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Add mandatory/optional table.
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.11.1"><div class="revision-head">Version 0.11.1 (2018-05-22)<a class="anchor-link" href="#revision-history-v0.11.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Editorial;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.11.0"><div class="revision-head">Version 0.11.0 (2018-05-21)<a class="anchor-link" href="#revision-history-v0.11.0"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Remove PSA as author (as he requested);
      Major change to move non-core aspects to different XEPs;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.10.1"><div class="revision-head">Version 0.10.1 (2018-05-12)<a class="anchor-link" href="#revision-history-v0.10.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Editorial fixes.</p><div class="revision-author">marj</div></li><li id="revision-history-v0.10.0"><div class="revision-head">Version 0.10.0 (2018-05-10)<a class="anchor-link" href="#revision-history-v0.10.0"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Clarify Owner/Administrator separation from participants and descriptions of channel roles;
      Clarify Owner handling on channel join;
      New default for configuration nodes present;
      Clarify configuration Last Change Made By;
      Clarify Mandatory Presence;
      Clarification of MIX annotation of roster updates;
      Replace contents of section 6.3 (Ensuring Message Delivery) with reference to future XEP;
      Add MIX Channels in Roster Section;
      Add Proxy JID Architecture Section;
      Add MUC Comparison Introduction Section;
      Add requirement to clarify MIX is intended for non-human use;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9.6"><div class="revision-head">Version 0.9.6 (2018-03-18)<a class="anchor-link" href="#revision-history-v0.9.6"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Fix typo errors with single quotes (marj). Editorial fixes (ralph)
    </p><div class="revision-author">Editor (jwi)</div></li><li id="revision-history-v0.9.5"><div class="revision-head">Version 0.9.5 (2018-01-08)<a class="anchor-link" href="#revision-history-v0.9.5"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Various Clarifications from Dave Cridland review:
      Remove Recommendation to do MIX/MUC on separate domains,
      Sort Default JID Visibility Preference,
      Make Owner optional,
      Clarify that Nick is optional;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9.4"><div class="revision-head">Version 0.9.4 (2018-01-02)<a class="anchor-link" href="#revision-history-v0.9.4"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Various Clarifications from Georg Lukas review:
      Role Membership reword,
      Participant's Node Joining clarification,
      Joining Channel Clarification,
      Coming online clarification,
      Going offline JID error,
      Allow servers to limit retract time frame,
      Clarify that private messages must not be groupchat,
      Creating Channel Clarification,
      Address security concerns on Converting a 1:1 Conversation to a Channel,
      Remove requirement for all user clients to support MIX,
      Change Retract to use MAM-ID;
      Ensure use of .example throughout (follow RFC conventions);
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9.3"><div class="revision-head">Version 0.9.3 (2017-07-18)<a class="anchor-link" href="#revision-history-v0.9.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Remove Legacy MIX Namespace;
      Add mix element in message to hold MIX additional information;
      Roster Update Clarifications;
      Clarify when messages are delivered to clients;
      Extend Roster Get to select format;
      Ensure that text defining attributes and elements reference the namespace;
      Change mix_nick_register to nick-register;
      Separate namespace for roster information;
      rename jidmap2 to jidmap-visible;
      Namespace bump to mix:1;
      Correct from in response of join/leave IQs;
      Add capability for MIX in client's server;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9.2"><div class="revision-head">Version 0.9.2 (2017-04-03)<a class="anchor-link" href="#revision-history-v0.9.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Fix xmpp:nodes typos;
      Remove namespace references in Info/Config nodes;
      Modify Participant and JID Map syntaxes;
      Clarifications on subscription to participants node and using this to receive Nick changes;
      Replace use of "query" as MIX defined operations for setting nick;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9.1"><div class="revision-head">Version 0.9.1 (2017-03-29)<a class="anchor-link" href="#revision-history-v0.9.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Editorial Changes (addressing comments  from Timothée Jaussoin);
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.9"><div class="revision-head">Version 0.9 (2017-03-22)<a class="anchor-link" href="#revision-history-v0.9"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Editorial Changes (mainly from Georg Lukas);
      Change to new syntax for proxy JIDs;
      Clarify MAM archive on Send;
      Extend to sort Selected JID visibility;
      Add examples of lookup read JID from proxy JID;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.8.2"><div class="revision-head">Version 0.8.2 (2017-03-3)<a class="anchor-link" href="#revision-history-v0.8.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
     Make example ids pseudo-random;
     Shorten the example BIND2 resources;
     Fix Disco features to not use second namespace;
     Correct encoding of jid-multi;
     MAM intro clarification;
     Always add to roster, with direction of roster controlled by share preference;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.8.1"><div class="revision-head">Version 0.8.1 (2017-02-20)<a class="anchor-link" href="#revision-history-v0.8.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Editorial Updates;
      Clarify Access to MAM history, prior to user joining channel;
      Add option for user to join without presence;
      Check invitee supports MIX;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.8"><div class="revision-head">Version 0.8 (2017-02-13)<a class="anchor-link" href="#revision-history-v0.8"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Update after Brussels Summit;
      Remove Explicit Client Activation and replace with client capability discovery (summit 3);
      Limit Indirect to Join/Leave;
      Clarify Server use of Disco of Client;
      Add MIX capability information to Roster (summit 10);
      MIX as Core Spec (summit 1);
      Clarifications of password control, voice and name/description (summit 4/5/6)
      Removal of Subject and reference future Sticky Messages XEP (summit 7);
      Use example JIDs aligned to anticipated BIND2 specification;
      Clarify PubSub Node Type;
      Add Error handling section;
      Substantial Editorial Review;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.7.1"><div class="revision-head">Version 0.7.1 (2017-01-30)<a class="anchor-link" href="#revision-history-v0.7.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Ensure all RFC 2119 keywords are capitalized and used correctly;
      Use MAM ID to identify message;
      Clarify use of the various channel names;
      Require all client operations to be direct or indirect (choice is just confusing);
      Add description of implicit activation ;
      MIX Domains must not contain users;
      Clarification on identifying channels in rosters;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.7"><div class="revision-head">Version 0.7 (2017-01-27)<a class="anchor-link" href="#revision-history-v0.7"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Correct multi-language subject setting;
      Remove MIX Proxy terminology and replace with Participant Server Behaviour;
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6.5"><div class="revision-head">Version 0.6.5 (2017-01-10)<a class="anchor-link" href="#revision-history-v0.6.5"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Modify MIX Proxy so that client sends to bare JID
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6.4"><div class="revision-head">Version 0.6.4 (2017-01-10)<a class="anchor-link" href="#revision-history-v0.6.4"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Add node='mix' to channel disco to facilitate MIX and MUC co-existence on same node;
      Return Proxy JID on Join;
      Adjustment to message reflection
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6.3"><div class="revision-head">Version 0.6.3 (2016-12-22)<a class="anchor-link" href="#revision-history-v0.6.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Add Update and Distribution to Table 3;
      Correct from in messages from channel;
      Use XEP-0297 in message forwarding;
      Update Dependent XEPs
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6.2"><div class="revision-head">Version 0.6.2 (2016-12-21)<a class="anchor-link" href="#revision-history-v0.6.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Editorial Changes (Georg Lukas Review);
      Improve 1:1 Conversion;
      Sort out MIX Proxy and Presence Update
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6.1"><div class="revision-head">Version 0.6.1 (2016-12-05)<a class="anchor-link" href="#revision-history-v0.6.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Clarify Direct PubSub access to each node type.
    </p><div class="revision-author">sek</div></li><li id="revision-history-v0.6"><div class="revision-head">Version 0.6 (2016-12-02)<a class="anchor-link" href="#revision-history-v0.6"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
     Added Internationalization Consideration section, and various I18n edits;
     Added Security Considerations section;
     Tombstoning of Redaction changes made optional;
     Added a section specifying MIX Proxy;
     Change configuration and information node management to directly use PubSub;
     Provide for XEP-0202 (vCard4 over XMPP) in addition to vcard-temp support.
    </p><div class="revision-author">sek (XEP Editor: ssw)</div></li><li id="revision-history-v0.5"><div class="revision-head">Version 0.5 (2016-11-04)<a class="anchor-link" href="#revision-history-v0.5"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">
      Complete and restructure Administration Section: Creating Channels and modifying configuration;
      Add avatar nodes;
      Add section on roster handling;
      Discovering MIX Services;
      Resolve questions on future capabilities;
      Administration of Allowed/Banned; clarify Kick functionality is replaced;
      User Presence Probes on Channel Start-up;
      Add user Presence preference;
      Clarify and Expand MAM Archiving;
      Sort Retraction;
      Add Marker IQ;
      Conversion 1:1
    </p><div class="revision-author">sek (XEP Editor: ssw)</div></li><li id="revision-history-v0.4"><div class="revision-head">Version 0.4 (2016-09-21)<a class="anchor-link" href="#revision-history-v0.4"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Clarification of MIX Proxy concept; Clarify node definitions; Make all nodes optional; Merge ACL node into configuration node; Add information node including avatar; Resolve 4.1 question by accepting provisional answer; Add discovery examples; setting and sharing Subject; Protocol to request channel information and participants;  vCard Request;  Private Messages; Set user preferences with XEP-0004; Remove references to member and occupant;  Add Role Definition;  Add Banned and Allowed Nodes;  Update Configuration Definition;Add information on original id to message reflected back to sender  Add XEP-0372 mechanism to reference channel and informal invite;  Channel Invitations </p><div class="revision-author">sek</div></li><li id="revision-history-v0.3.1"><div class="revision-head">Version 0.3.1 (2016-09-07)<a class="anchor-link" href="#revision-history-v0.3.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Introduce MIX Proxy concept.   Add MIX capability in client discovery.</p><div class="revision-author">sek</div></li><li id="revision-history-v0.3"><div class="revision-head">Version 0.3 (2016-09-05)<a class="anchor-link" href="#revision-history-v0.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Addressing comments from review of 0.2 and expansion/clarification of MUC/MIX dual working</p><div class="revision-author">sek</div></li><li id="revision-history-v0.2.3"><div class="revision-head">Version 0.2.3 (2016-09-01)<a class="anchor-link" href="#revision-history-v0.2.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Cleanup, use precis nickname for nicknames, and allow multiple subject languages.</p><div class="revision-author">ssw, ks</div></li><li id="revision-history-v0.2.2"><div class="revision-head">Version 0.2.2 (2016-08-26)<a class="anchor-link" href="#revision-history-v0.2.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Phrasing and grammar.</p><div class="revision-author">ssw</div></li><li id="revision-history-v0.2.1"><div class="revision-head">Version 0.2.1 (2016-08-25)<a class="anchor-link" href="#revision-history-v0.2.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Includes Link Mauve (Emmanuel Gil PEYROT) editorial changes</p><div class="revision-author">sek, egp</div></li><li id="revision-history-v0.2"><div class="revision-head">Version 0.2 (2016-08-16)<a class="anchor-link" href="#revision-history-v0.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Significant update based on XMPP Summit discussions</p><div class="revision-author">sek, ks</div></li><li id="revision-history-v0.1.1"><div class="revision-head">Version 0.1.1 (2016-03-17)<a class="anchor-link" href="#revision-history-v0.1.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Fix XML in join example.</p><div class="revision-author">XEP Editor (ssw)</div></li><li id="revision-history-v0.1"><div class="revision-head">Version 0.1 (2016-01-07)<a class="anchor-link" href="#revision-history-v0.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Initial published version approved by the XMPP Council.</p><div class="revision-author">XEP Editor (asw)</div></li><li id="revision-history-v0.0.1"><div class="revision-head">Version 0.0.1 (2015-10-12)<a class="anchor-link" href="#revision-history-v0.0.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">First draft.</p><div class="revision-author">kis/psa</div></li></ol><p>END</p></body></html>
