<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>XEP-0373: OpenPGP for XMPP</title><style type="text/css">
/* don't mind this hack */
nav#toc h2:before {
display: none;
content: "XEP-0373";
}
        </style><link rel="stylesheet" type="text/css" href="xmpp.css"><link href="prettify.css" type="text/css" rel="stylesheet"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><script type="text/javascript" src="prettify.js"></script><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=2.0"><meta name="DC.Title" content="OpenPGP for XMPP"><meta name="DC.Creator" content="Florian Schmaus"><meta name="DC.Creator" content="Dominik Schürmann"><meta name="DC.Creator" content="Vincent Breitmoser"><meta name="DC.Description" content="Specifies end-to-end encryption and authentication of data with the help of
  OpenPGP, announcement, discovery and retrieval of public keys and a
  mechanism to synchronize secret keys over multiple
  devices."><meta name="DC.Publisher" content="XMPP Standards Foundation"><meta name="DC.Contributor" content="XMPP Extensions Editor"><meta name="DC.Date" content="2020-11-22"><meta name="DC.Type" content="XMPP Extension Protocol"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="XEP-0373"><meta name="DC.Language" content="en"><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright © 1999 – 2020 by the XMPP Standards Foundation (XSF)."></head><body onload="prettyPrint()"><h1>XEP-0373: OpenPGP for XMPP</h1><div class="docmeta-wrap"><dl id="docmeta" class="compact"><dt>Abstract</dt><dd>Specifies end-to-end encryption and authentication of data with the help of
  OpenPGP, announcement, discovery and retrieval of public keys and a
  mechanism to synchronize secret keys over multiple
  devices.</dd><dt>Authors</dt><dd><ul class="authors"><li>Florian Schmaus</li><li>Dominik Schürmann</li><li>Vincent Breitmoser</li></ul></dd><dt>Copyright</dt><dd>© 1999 – 2020 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</dd><dt>Status</dt><dd><p>Experimental</p><div id="status-notice" class="experimental standards track">WARNING: This Standards-Track document is Experimental. Publication as an XMPP Extension Protocol does not imply approval of this proposal by the XMPP Standards Foundation. Implementation of the protocol described herein is encouraged in exploratory implementations, but production systems are advised to carefully consider whether it is appropriate to deploy implementations of this protocol before it advances to a status of Draft.</div></dd><dt>Type</dt><dd>Standards Track</dd><dt>Version</dt><dd>0.6.0 (2020-11-22)</dd></dl><div class="timeline-wrap"><div class="timeline-head">Document Lifecycle</div><ol class="timeline"><li class="current">Experimental</li><li>Proposed</li><li>Draft</li><li>Final</li></ol></div></div><nav id="toc"><a href="#top"><h2>Table of Contents</h2></a><ol class="toc"><li><a href="#intro">Introduction</a></li><li><a href="#glossary">Glossary</a></li><li><a href="#signcrypt">OpenPGP Encrypted and Signed Data</a><ol><li><a href="#exchange">Exchanging OpenPGP Encrypted and Signed Data</a></li><li><a href="#openpgp-verification">Verification of &lt;openpgp/&gt; Content</a></li></ol></li><li><a href="#announcing-discover-pubkey">Announcing and Discovering Public Keys via PEP</a><ol><li><a href="#announcing-pubkey">The OpenPGP Public-Key Data Node</a></li><li><a href="#announcing-pubkey-list">The OpenPGP Public Key Metadata Node</a></li><li><a href="#discover-pubkey-list">Discovering Public Keys of a User</a></li><li><a href="#discover-pubkey">Requesting Public Keys</a></li><li><a href="#pubsub-notifications">Receiving notifications about key changes</a></li></ol></li><li><a href="#synchro-pep">Synchronizing the Secret Key with a Private PEP Node</a><ol><li><a href="#synchro-pep-requirements">Required PEP features</a><ol><li><a href="#synchro-pep-discover-support">Discovering support</a></li></ol></li><li><a href="#req-info-secret-pep-node">Requesting Information About the Secret Key PEP Node</a><ol><li><a href="#client-sends-secret-request">Client Sends Request</a></li><li><a href="#client-receives-secret-response">PEP Service Success Response</a></li><li><a href="#error-pep-node-inexistent">PEP Node Does Not Exist Response</a></li><li><a href="#pep-not-supported">PEP Not Supported</a></li></ol></li><li><a href="#create-secret-node">Creating the Secret Key PEP Node</a></li><li><a href="#backup-encryption">Encrypting the Secret Key Backup</a></li></ol></li><li><a href="#rules">Business Rules</a><ol><li><a href="#openpgp-packet-format-version">OpenPGP Packet Format Version Restriction</a></li><li><a href="#pubsub-node-configuration">PubSub Node Configuration</a></li><li><a href="#key-enforcement">Key Enforcement</a></li></ol></li><li><a href="#implementors-advice">Implementors Advice</a><ol><li><a href="#design-and-techniques">Design Principles and Techniques</a></li><li><a href="#stanza-size">Stanza Size</a></li><li><a href="#xmpp-address-normalization">XMPP Address Normalization</a></li></ol></li><li><a href="#rationale">Rationale</a><ol><li><a href="#key-handling">Key Handling</a></li><li><a href="#openpgp-element-design">OpenPGP Element and Content Element Design</a></li><li><a href="#solving-xep0027-issues">Addressing the Issues and Problems of XEP-0027</a></li><li><a href="#openpgp-ascii-armor">Not using OpenPGP ASCII Armor</a></li><li><a href="#openpgp-user-ids">OpenPGP User IDs</a></li></ol></li><li><a href="#security">Security Considerations</a></li><li><a href="#iana">IANA Considerations</a></li><li><a href="#registrar">XMPP Registrar Considerations</a><ol><li><a href="#registrar-ns">Protocol Namespaces</a></li></ol></li><li><a href="#schema">XML Schema</a></li><li><a href="#acknowledgements">Acknowledgements</a></li></ol><h6><a href="#appendices">Appendices</a></h6><ol class="toc-appendices"><li><a href="#appendix-docinfo">Document Information</a></li><li><a href="#appendix-authorinfo">Author Information</a></li><li><a href="#appendix-legal">Legal Notices</a></li><li><a href="#appendix-xmpp">Relation to XMPP</a></li><li><a href="#appendix-discuss">Discussion Venue</a></li><li><a href="#appendix-conformance">Requirements Conformance</a></li><li><a href="#appendix-notes">Notes</a></li><li><a href="#appendix-revs">Revision History</a></li></ol></nav><h2 id="intro">1.
       Introduction<a class="anchor-link" href="#intro"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">This XMPP extension protocol specifies the foundations of
  end-to-end encryption and authentication, based on digital
  signatures, of data with the help of OpenPGP. Additional XEPs will
  use this extension protocol as building block when specifying their
  own OpenPGP profile suiting their use case. One such profile is the
  Instant Messaging Profile specified in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0374.html">OpenPGP for XMPP Instant Messaging (XEP-0374)</a></span>  [<a href="#nt-idm130">1</a>].</p>

  <p class="" style="">XMPP provides the mechanisms to solve a lot of issues that come
  with modern day OpenPGP usage. For example, based on <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0163.html">Personal Eventing Protocol (XEP-0163)</a></span>  [<a href="#nt-idm135">2</a>] this
  specification describes a standardized way to discover OpenPGP
  public keys of other entities. But unlike the OpenPGP keyservers,
  this process establishes a strong relation between the key and the
  key's owning entity (usually a human user). A similar mechanism
  described herein allows to synchronize the secret key(s) across
  multiple devices.</p>

  <p class="" style="">OpenPGP in return allows for end-to-end encrypted data to be
  exchanged between one, two or even multiple entities
  (multi-end-to-multi-end encryption). Therefore this XEP can be used
  for example to implement end-to-end encrypted <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0045.html">Multi-User Chat (XEP-0045)</a></span>  [<a href="#nt-idm140">3</a>].</p>

<h2 id="glossary">2.
       Glossary<a class="anchor-link" href="#glossary"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><dl>
    <dt><strong>OpenPGP element</strong></dt><dd>An XMPP extension element: &lt;openpgp/&gt; qualified by the 'urn:xmpp:openpgp:0' namespace</dd>
    <dt><strong>OpenPGP content element</strong></dt><dd>An element embedded via OpenPGP in a &lt;openpgp/&gt; element. Either one of &lt;signcrypt/&gt;, &lt;sign/&gt; or &lt;crypt/&gt;, qualified by the 'urn:xmpp:openpgp:0' namespace.</dd>
    <dt><strong>PEP</strong></dt><dd><span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0163.html">Personal Eventing Protocol (XEP-0163)</a></span>  [<a href="#nt-idm135">2</a>]</dd>
    <dt><strong>Public-Key metadata node ("metadata node")</strong></dt><dd>A PEP node containing metadata of the entity's public OpenPGP key.</dd>
    <dt><strong>Public-Key data node ("data node")</strong></dt><dd>A PEP node containing an entity's public OpenPGP key.</dd>
    <dt><strong>Secret-Key node</strong></dt><dd>A PEP node containing an entity's encrypted secret OpenPGP key.</dd>
    <dt><strong>OpenPGP v4 Fingerprint String</strong></dt><dd>A String representing the OpenPGP v4 fingerprint
    of a key. If the key consists of a primary key and subkeys, this is the fingerprint of the
    primary key.</dd>
  </dl></div>

<h2 id="signcrypt">3.
       OpenPGP Encrypted and Signed Data<a class="anchor-link" href="#signcrypt"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><h3 id="exchange">3.1 Exchanging OpenPGP Encrypted and Signed Data<a class="anchor-link" href="#exchange"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The &lt;openpgp/&gt; extension element qualified by the
    'urn:xmpp:openpgp:0' namespace is used in order to exchange
    encrypted and signed data.</p>

    <figure class="code-example" id="example-1"><figcaption><strong>Example 1.</strong> The &lt;openpgp/&gt; extension within a message.<a class="anchor-link" href="#example-1"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;message to='juliet@example.org'&gt;
  &lt;openpgp xmlns='urn:xmpp:openpgp:0'&gt;
    BASE64_OPENPGP_MESSAGE
  &lt;/openpgp&gt;
&lt;/message&gt;</pre></figure>

    <p class="" style="">The text content of &lt;openpgp/&gt; ("BASE64_OPENPGP_MESSAGE") is a
    Base64 encoded (<span class="ref" style=""><a href="http://tools.ietf.org/html/rfc4648">RFC 4648</a></span>  [<a href="#nt-idm176">4</a>] <a href="https://tools.ietf.org/html/rfc4648#section-4">§ 4</a>)
    OpenPGP message as specified in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc4880">RFC 4880</a></span>  [<a href="#nt-idm181">5</a>] which contains an
    encrypted and/or signed UTF-8 (<span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3629">RFC 3629</a></span>  [<a href="#nt-idm185">6</a>]) encoded string. This
    string MUST correspond to exactly one OpenPGP content element,
    that is, it represents either a &lt;signcrypt/&gt;, a &lt;sign/&gt; or a &lt;crypt/&gt;
    extension element qualified by the 'urn:xmpp:openpgp:0'
    namespace. Note that OpenPGP's ASCII Armor is not used, instead
    the XMPP client MUST encode the raw bytes of the OpenPGP message using
    Base64.</p>

    <p class="" style="">In case of a &lt;signcrypt/&gt; element, the OpenPGP message embedded
    in the &lt;openpgp/&gt; element MUST be encrypted and signed, and SHOULD
    also be encrypted to self. In case of a &lt;sign/&gt; element, the
    OpenPGP message MUST be signed and MUST NOT be encrypted. In case
    of &lt;crypt/&gt; the OpenPGP message MUST NOT be signed, but MUST be
    encrypted.</p>

    <figure class="code-example" id="example-2"><figcaption><strong>Example 2.</strong> The &lt;signcrypt/&gt; extension element.<a class="anchor-link" href="#example-2"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;signcrypt xmlns='urn:xmpp:openpgp:0'&gt;
  &lt;to jid='juliet@example.org'/&gt;
  &lt;time stamp='2014-07-10T17:06:00+02:00'/&gt;
  &lt;rpad&gt;
    f0rm1l4n4-mT8y33j!Y%fRSrcd^ZE4Q7VDt1L%WEgR!kv
  &lt;/rpad&gt;
  &lt;payload&gt;
    &lt;body xmlns='jabber:client'&gt;
      This is a secret message.
    &lt;/body&gt;
  &lt;/payload&gt;
&lt;/signcrypt&gt;</pre></figure>

    <p class="" style="">OpenPGP content elements MUST possess exactly one 'time'
    element as direct child elements. The &lt;signcrypt/&gt; and &lt;sign/&gt;
    content elements MUST contain at least one 'to' element(s), which
    MUST have a 'jid' attribute containing the intended recipient's
    XMPP address of the signed and/or encrypted data to prevent
    Surreptitious Forward Attacks [<a href="#nt-idm190">7</a>].
    The XMPP address found in the 'to' element's 'jid' attribute
    SHOULD be without Resourcepart (i.e., a bare JID). A &lt;crypt/&gt; content
    element may not carry a 'to' attribute. The 'time' element MUST
    have a 'stamp' attribute which contains the timestamp when the
    OpenPGP content element was signed and/or encrypted in the
    DateTime format as specified in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0082.html">XMPP Date and Time Profiles (XEP-0082)</a></span>  [<a href="#nt-idm194">8</a>] § 3.2. The &lt;signcrypt/&gt;
    and &lt;crypt/&gt; elements SHOULD furthermore contain a 'rpad' element
    which text content is a random-length random-content padding.</p>

    <figure class="table"><figcaption id="table-1"><strong>Table 1:</strong> OpenPGP Content Element Properties<a class="anchor-link" href="#table-1"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><table>
      <tr class="body">
        <th colspan="" rowspan="">Content Element</th>
        <th colspan="" rowspan="">'to' Element</th>
        <th colspan="" rowspan="">'time' Element</th>
        <th colspan="" rowspan="">&lt;rpad/&gt; Element</th>
        <th colspan="" rowspan="">&lt;payload/&gt; Element</th>
      </tr>
      <tr class="body">
        <td align="" colspan="" rowspan="">&lt;signcrypt/&gt;</td>
        <td align="" colspan="" rowspan="">MUST have at least one</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
        <td align="" colspan="" rowspan="">SHOULD have exactly one</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
      </tr>
      <tr class="body">
        <td align="" colspan="" rowspan="">&lt;sign/&gt;</td>
        <td align="" colspan="" rowspan="">MUST have at least one</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
        <td align="" colspan="" rowspan="">OPTIONAL</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
      </tr>
      <tr class="body">
        <td align="" colspan="" rowspan="">&lt;crypt/&gt;</td>
        <td align="" colspan="" rowspan="">OPTIONAL</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
        <td align="" colspan="" rowspan="">SHOULD have exactly one</td>
        <td align="" colspan="" rowspan="">MUST have exactly one</td>
      </tr>
    </table></figure>

    <p class="" style="">OpenPGP content elements MUST possess exactly one &lt;payload/&gt;
    element. The child elements of &lt;payload/&gt; can be seen as OpenPGP
    secured Stanza extension elements which are encrypted and/or
    signed. After the &lt;openpgp/&gt; element and the including &lt;signcrypt/&gt;,
    &lt;sign/&gt; or &lt;crypt/&gt; element was verified, they are processed
    according to the specification of the relevant OpenPGP for XMPP
    profile (see for example <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0374.html">OpenPGP for XMPP Instant Messaging (XEP-0374)</a></span>  [<a href="#nt-idm130">1</a>]).</p>

  </div>

  <div class="indent"><h3 id="openpgp-verification">3.2 Verification of &lt;openpgp/&gt; Content<a class="anchor-link" href="#openpgp-verification"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">Recipients MUST verify that the signature is valid, that the
    signature's key corresponds to the sender's key, and that the
    sender's key has a User ID containing the sender's XMPP
    address in the form "xmpp:juliet@example.org" (for details see
    <a href="#openpgp-user-ids">"OpenPGP User IDs"</a>). Thus,
    the recipient may
    need to retrieve the key from the Personal Eventing Protocol node
    as described above. At least one of the XMPP addresses found in
    the 'to' elements contained in OpenPGP content element MUST
    correspond to the outer 'to' of the XMPP &lt;message/&gt;. Furthermore,
    recipients are RECOMMENDED to verify the 'time' element for
    plausibility or to display it to a user for verification.</p>

  </div>

<h2 id="announcing-discover-pubkey">4.
       Announcing and Discovering Public Keys via PEP<a class="anchor-link" href="#announcing-discover-pubkey"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">Parties interested in exchanging encrypted data between each
  other via OpenPGP need to know the public key(s) of the
  recipients. The following section specifies a mechanism to announce
  and discover public keys.</p>

  <p class="" style="">Two PEP node types are invovled: A "medatata node" is used to store meta information about
  OpenPGP keys used by an entity while the actual public keys are stored in "data nodes".</p>

  <div class="indent"><h3 id="announcing-pubkey">4.1 The OpenPGP Public-Key Data Node<a class="anchor-link" href="#announcing-pubkey"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The public key data, as specified in <span class="ref">RFC 4880</span>, is stored in a PEP data
    node. Note that OpenPGP's ASCII Armor is not used, instead the XMPP client MUST encode the
    public key using Base64. The id of the node MUST be "urn:xmpp:openpgp:0:public-keys:" followed
    by the fingerprint string of the OpenPGP public-key contained in the data node.</p>

    <p class="" style="">The <em>OpenPGP v4 fingerprint string</em> is obtained as follows: First the raw bytes of the
    fingerprint are computed as specified in <span class="ref">RFC 4880 § 12.2.</span>. Then the bytes are
    encoded as a hexadecimal string using upper case characters [<a href="#nt-idm238">9</a>].</p>

    <p class="" style=""> The publishing entity SHOULD set the PubSub item ID to the time the item is published encoded
    as DateTime format specified in <span class="ref">XEP-0082</span>.</p>

    <p class="" style="">The data node MUST contain an &lt;pubkey/&gt; element qualified by the 'urn:xmpp:openpgp:0'
    namespace. The element MUST include a &lt;data/&gt; element which contains the data of the key
    Base64 encoded.</p>

    <figure class="code-example" id="example-3"><figcaption><strong>Example 3.</strong> Saving the public key in the data node.<a class="anchor-link" href="#example-3"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set' from='juliet@example.org/balcony' id='publish1'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='urn:xmpp:openpgp:0:public-keys:1357B01865B2503C18453D208CAC2A9678548E35'&gt;
      &lt;item id='2020-01-21T10:46:21Z'&gt;
        &lt;pubkey xmlns='urn:xmpp:openpgp:0'&gt;
           &lt;data&gt;
             BASE64_OPENPGP_PUBLIC_KEY
           &lt;/data&gt;
        &lt;/pubkey&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

  </div>

  <div class="indent"><h3 id="announcing-pubkey-list">4.2 The OpenPGP Public Key Metadata Node<a class="anchor-link" href="#announcing-pubkey-list"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">To update the public keys used by an entity, the metadata node is updated. Before adding a
    OpenPGP key fingerprint to the metadata node, the publisher MUST ensure that the public key is available
    at the corresponding data node.</p>

    <p class="" style=""> The ID of the metadata node is 'urn:xmpp:openpgp:0:public-keys'. It contains a
    &lt;public-keys-list/&gt; element qualified by the 'urn:xmpp:openpgp:0' namespace containing one
    or more &lt;pubkey-metadata/&gt; elements. Every pubkey-metadata element MUST have a
    'v4-fingerprint' attribute, containing the OpenPGP v4 fingerprint string, and a 'date'
    attribute, containing the time the key was published or updated in DateTime format of
    <span class="ref">XEP-0082</span>. An OpenPGP V4 fingerprint MUST NOT occur in the list more than once.</p>

    <figure class="code-example" id="example-4"><figcaption><strong>Example 4.</strong> Publishing a public key to the metadata node.<a class="anchor-link" href="#example-4"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set' from='juliet@example.org/balcony' id='publish1'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='urn:xmpp:openpgp:0:public-keys'&gt;
      &lt;item&gt;
        &lt;public-keys-list xmlns='urn:xmpp:openpgp:0'&gt;
          &lt;pubkey-metadata
            v4-fingerprint='1357B01865B2503C18453D208CAC2A9678548E35'
            date='2018-03-01T15:26:12Z'
            /&gt;
          &lt;pubkey-metadata
            v4-fingerprint='67819B343B2AB70DED9320872C6464AF2A8E4C02'
            date='1953-05-16T12:00:00Z'
            /&gt;
        &lt;/public-keys-list&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

  </div>

  <div class="indent"><h3 id="discover-pubkey-list">4.3 Discovering Public Keys of a User<a class="anchor-link" href="#discover-pubkey-list"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">In order to discover the OpenPGP public keys of a remote entity, the interested entity first
    queries the remote entity's metadata note to learn about the currently annouced OpenPGP
    keys.</p>

    <figure class="code-example" id="example-5"><figcaption><strong>Example 5.</strong> Requesting the metadata node of a user.<a class="anchor-link" href="#example-5"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='romeo@example.org/orchard'
    to='juliet@example.org'
    type='get'
    id='getmeta'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:public-keys'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

    <figure class="code-example" id="example-6"><figcaption><strong>Example 6.</strong> Personal Eventing Protocol result containing the metadata node of the user.<a class="anchor-link" href="#example-6"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@example.org'
    to='romeo@example.org/orchard'
    type='result'
    id='getmeta'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:public-keys'&gt;
      &lt;item&gt;
        &lt;public-keys-list xmlns='urn:xmpp:openpgp:0'&gt;
          &lt;pubkey-metadata
            v4-fingerprint='1357B01865B2503C18453D208CAC2A9678548E35'
            date='2018-03-01T15:26:12Z'
            /&gt;
          &lt;pubkey-metadata
            v4-fingerprint='67819B343B2AB70DED9320872C6464AF2A8E4C02'
            date='1953-05-16T12:00:00Z'
            /&gt;
        &lt;/public-keys-list&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

  </div>

  <div class="indent"><h3 id="discover-pubkey">4.4 Requesting Public Keys<a class="anchor-link" href="#discover-pubkey"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">OpenPGP key(s) can be retrieved by querying the data node for a specific
    fingerprint.</p>

    <figure class="code-example" id="example-7"><figcaption><strong>Example 7.</strong> Requesting an OpenPGP public key from an XMPP entity.<a class="anchor-link" href="#example-7"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='romeo@example.org/orchard'
    to='juliet@example.org'
    type='get'
    id='getpub'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:public-keys:1357B01865B2503C18453D208CAC2A9678548E35'
           max_items='1'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

    <figure class="code-example" id="example-8"><figcaption><strong>Example 8.</strong> Personal Eventing Protocol result containing the requested public key.<a class="anchor-link" href="#example-8"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@example.org'
    to='romeo@example.org/orchard'
    type='result'
    id='getpub'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:public-keys:1357B01865B2503C18453D208CAC2A9678548E35'&gt;
      &lt;item id='2020-01-21T10:46:21Z'&gt;
        &lt;pubkey xmlns='urn:xmpp:openpgp:0'&gt;
          &lt;data&gt;
            BASE64_OPENPGP_PUBLIC_KEY
          &lt;/data&gt;
        &lt;/pubkey&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

    <p class="" style="">Note that the result may contain multiple pubkey elements. Only
    the public keys found in the most recent item MUST be used. Requesters
    may want to limit the results to the most recent item using the
    'max_items' attribute set to '1'. Clients could alternatively use
    <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0059.html">Result Set Management (XEP-0059)</a></span>  [<a href="#nt-idm259">10</a>] as an alternative to 'max_items' but accoding to
    <span class="ref">XEP-0060</span> RSM is not (yet) mandatory for PubSub
    services.</p>

    <p class="" style="">Some XMPP services may not provide the Personal Eventing
    Protocol feature required to provide the mechanism described
    here. If so, they will return an &lt;iq/&gt; error of type
    service-unavailable.</p>

  </div>

  <div class="indent"><h3 id="pubsub-notifications">4.5 Receiving notifications about key changes<a class="anchor-link" href="#pubsub-notifications"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">Entities creating PEP nodes defined herein SHOULD configure the nodes as notification-only
    nodes by setting 'pubsub#deliver_payloads" configuration field to 'false'.</p>

    <p class="" style="">Entities which are subscribed to the metadata node or advertise the
    "urn:xmpp:openpgp:0:public-keys+notify" feature via <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0030.html">Service Discovery (XEP-0030)</a></span>  [<a href="#nt-idm268">11</a>] (see <span class="ref">XEP-0060</span> <a href="https://xmpp.org/extensions/xep-0060.html#filtered-notifications">§ 9.2</a>) receive a
    notification upon a node update. Entities subscribed to PEP nodes defined herein MUST be prepared
    that PubSub notifications may be without the payload and only contain the published item's ID.</p>

  </div>

<h2 id="synchro-pep">5.
       Synchronizing the Secret Key with a Private PEP Node<a class="anchor-link" href="#synchro-pep"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  

    <p class="" style="">A private PEP node is used to allow XMPP clients to synchronize
    the user's secret OpenPGP key. Where private PEP node is defined: A
    PEP node in whitelist mode where only the bare JID of the key
    owner is whitelisted as described in <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0223.html">Best Practices for Persistent Storage of Private Data via Publish-Subscribe (XEP-0223)</a></span>  [<a href="#nt-idm276">12</a>]. The secret key is
    additionally encrypted.</p>

    <div class="indent"><h3 id="synchro-pep-requirements">5.1 Required PEP features<a class="anchor-link" href="#synchro-pep-requirements"><abbr title="Link to this point in the document">¶</abbr></a></h3>

      <p class="" style="">The used PEP server MUST support PEP and the whitelist access
      model. It SHOULD also support persistent items.</p>

        <div class="indent"><h4 id="synchro-pep-discover-support">5.1.1 Discovering support<a class="anchor-link" href="#synchro-pep-discover-support"><abbr title="Link to this point in the document">¶</abbr></a></h4>

          <figure class="code-example" id="example-9"><figcaption><strong>Example 9.</strong> Account owner queries server regarding protocol support<a class="anchor-link" href="#example-9"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@capulet.lit/balcony'
    to='juliet@capulet.lit'
    id='disco1'
    type='get'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;
</pre></figure>

        <p class="" style="">The service discovery result must contain a PEP identity
        '&lt;identity category='pubsub' type='pep'/&gt;, and the
        'http://jabber.org/protocol/pubsub#access-whitelist'
        feature. Ideally it also contains the
        'http://jabber.org/protocol/pubsub#persistent-items'
        feature</p>

        <figure class="code-example" id="example-10"><figcaption><strong>Example 10.</strong> Server communicates protocol support<a class="anchor-link" href="#example-10"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@capulet.lit'
    to='juliet@capulet.lit/balcony'
    id='disco1'
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity category='account' type='registered'/&gt;
    &lt;identity category='pubsub' type='pep'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#access-presence'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#auto-create'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#auto-subscribe'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#config-node'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#create-and-configure'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#create-nodes'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#filtered-notifications'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#persistent-items'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#publish'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#retrieve-items'/&gt;
    &lt;feature var='http://jabber.org/protocol/pubsub#subscribe'/&gt;
    ...
  &lt;/query&gt;
&lt;/iq&gt;</pre></figure>

       </div>

    </div>

    <div class="indent"><h3 id="req-info-secret-pep-node">5.2 Requesting Information About the Secret Key PEP Node<a class="anchor-link" href="#req-info-secret-pep-node"><abbr title="Link to this point in the document">¶</abbr></a></h3>

      <p class="" style="">In order to synchronize the secret key over a private PEP node,
      clients first need to discover and verify the node for the correct
      settings.</p>

      <div class="indent"><h4 id="client-sends-secret-request">5.2.1 Client Sends Request<a class="anchor-link" href="#client-sends-secret-request"><abbr title="Link to this point in the document">¶</abbr></a></h4>

  <figure class="code-example" id="example-11"><figcaption><strong>Example 11.</strong> Requesting the user's secret key.<a class="anchor-link" href="#example-11"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='romeo@example.org/orchard'
    to='juliet@example.org'
    type='get'
    id='getsecret'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:secret-key'
           max_items='1'/&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

      </div>
      <div class="indent"><h4 id="client-receives-secret-response">5.2.2 PEP Service Success Response<a class="anchor-link" href="#client-receives-secret-response"><abbr title="Link to this point in the document">¶</abbr></a></h4>

  <figure class="code-example" id="example-12"><figcaption><strong>Example 12.</strong> Personal Eventing Protocol result containing the requested secret key.<a class="anchor-link" href="#example-12"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@example.org'
    to='romeo@example.org/orchard'
    type='result'
    id='getsecret'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;items node='urn:xmpp:openpgp:0:secret-key'&gt;
      &lt;item&gt;
        &lt;secretkey xmlns='urn:xmpp:openpgp:0'&gt;
            BASE64_OPENPGP_ENCRYPTED_SECRET_KEY
        &lt;/secretkey&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>

      </div>
      <div class="indent"><h4 id="error-pep-node-inexistent">5.2.3 PEP Node Does Not Exist Response<a class="anchor-link" href="#error-pep-node-inexistent"><abbr title="Link to this point in the document">¶</abbr></a></h4>

        <p class="" style="">If the node does not exist the service will return an &lt;iq/&gt;
        error indicating the item-not-found error condition. The
        client MUST then create it with an whitelist access model.</p>

        <figure class="code-example" id="example-13"><figcaption><strong>Example 13.</strong> Node does not exist<a class="anchor-link" href="#example-13"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@example.org'
    to='romeo@example.org/orchard'
    type='error'
    id='getsecret'&gt;
  &lt;error type='cancel'&gt;
    &lt;item-not-found xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;
  &lt;/error&gt;
&lt;/iq&gt;</pre></figure>

      </div>

      <div class="indent"><h4 id="pep-not-supported">5.2.4 PEP Not Supported<a class="anchor-link" href="#pep-not-supported"><abbr title="Link to this point in the document">¶</abbr></a></h4>

        <p class="" style="">The service will return a service-unavailable error &lt;iq/&gt; if
        it does not support PEP.</p>

        <figure class="code-example" id="example-14"><figcaption><strong>Example 14.</strong> Node does not exist<a class="anchor-link" href="#example-14"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq from='juliet@example.org'
    to='romeo@example.org/orchard'
    type='error'
    id='getsecret'&gt;
  &lt;error type='cancel'&gt;
    &lt;service-unavailable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;
  &lt;/error&gt;
&lt;/iq&gt;</pre></figure>

      </div>

    </div>
    <div class="indent"><h3 id="create-secret-node">5.3 Creating the Secret Key PEP Node<a class="anchor-link" href="#create-secret-node"><abbr title="Link to this point in the document">¶</abbr></a></h3>

      <figure class="code-example" id="example-15"><figcaption><strong>Example 15.</strong> Client creates secret key PEP node<a class="anchor-link" href="#example-15"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='set'
    from='juliet@example.org/balcony'
    id='create-node'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;create node='urn:xmpp:openpgp:0:secret-key'/&gt;
    &lt;configure&gt;
      &lt;x xmlns='jabber:x:data' type='submit'&gt;
        &lt;field var='FORM_TYPE' type='hidden'&gt;
          &lt;value&gt;http://jabber.org/protocol/pubsub#node_config&lt;/value&gt;
        &lt;/field&gt;
        &lt;field var='pubsub#access_model'&gt;
          &lt;value&gt;whitelist&lt;/value&gt;
        &lt;/field&gt;
        &lt;field var='pubsub#send_last_published_item'&gt;
          &lt;value&gt;on_sub&lt;/value&gt;
        &lt;/field&gt;
      &lt;/x&gt;
    &lt;/configure&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;</pre></figure>
      <figure class="code-example" id="example-16"><figcaption><strong>Example 16.</strong> Service informs requesting entity of success<a class="anchor-link" href="#example-16"><abbr title="Link to this point in the document">¶</abbr></a></figcaption><pre class="prettyprint">
&lt;iq type='result'
    to='juliet@example.org/balcony'
    id='create-node'/&gt;</pre></figure>

      <p class="" style="">The node is now created and the only affiliated entity is the
      bare JID of the user, who created the node, with an affiliation as
      'owner'.</p>

    </div>

    <div class="indent"><h3 id="backup-encryption">5.4 Encrypting the Secret Key Backup<a class="anchor-link" href="#backup-encryption"><abbr title="Link to this point in the document">¶</abbr></a></h3>

      <p class="" style="">In order to set a new secret key, clients store the encrypted
      secret key as Base64 encoded raw OpenPGP message within an
      &lt;secretkey/&gt; element qualified by the 'urn:xmpp:openpgp:0'
      namespace. These secret key backups are created as follows:</p>

      <ol start="" class="" style="">
        <li class="" style="">All secret keys that should be included in the backup MUST
        be concatenated in their transferable key format (<span class="ref">RFC
        4880</span> <a href="http://tools.ietf.org/html/rfc4880#section-11.2">§
        11.1</a>). The octet indicating string-to-key usage conventions
        MUST be set to zero in the corresponding Secret-Key Packet(s)
        (<span class="ref">RFC 4880</span> <a href="https://tools.ietf.org/html/rfc4880#section-5.5.3">§ 5.5.3</a>).
        The secret key material will be encrypted in step 4 using a
        Symmetric-Key Encrypted Session Key Packet.
        </li>
        <li class="" style="">A backup code is generated from secure random: The backup
        code consists of 24 upper case characters from the Latin
        alphabet and numbers without 'O' ("LATIN CAPITAL LETTER O")
        and '0' ("DIGIT ZERO") (alphabet:
        <code>123456789ABCDEFGHIJKLMNPQRSTUVWXYZ</code>) grouped into
        4-character chunks, e.g.,
        <code>TWNK-KD5Y-MT3T-E1GS-DRDB-KVTW</code>. The characters MUST be
        generated from cryptographically secure random. For example
        <code><a href="https://lwn.net/Articles/606141/">getrandom(2)</a></code>,
        <code><a href="https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html">SecureRandom</a></code>
        or <code>/dev/urandom</code>. More information about the
        randomness requirements for security can be found in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc4086">RFC 4086</a></span>  [<a href="#nt-idm318">13</a>]
        </li>
        <li class="" style="">The whole backup code including the dashes is directly
        used as a string to encrypt the concatenated transferable keys
        as an OpenPGP message. More precisely: It is used as the
        symmetric-key for a Symmetric-Key Encrypted Session Key Packet
        according to <span class="ref">RFC 4880</span> <a href="http://tools.ietf.org/html/rfc4880#section-5.3">§
        5.3</a>; the symmetric-key is thus 29 characters long
        including the dashes.  The encryption algorithm MUST be one of
        the standardized OpenPGP symmetric algorithms, e.g, AES-128.
        </li>
      </ol>

    </div>

<h2 id="rules">6.
       Business Rules<a class="anchor-link" href="#rules"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><h3 id="openpgp-packet-format-version">6.1 OpenPGP Packet Format Version Restriction<a class="anchor-link" href="#openpgp-packet-format-version"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">Implementations of this XEP MUST generate and accept only
    version 4 (or higher) OpenPGP packets. Lower version OpenPGP
    packets are insecure in many aspects (see for example <span class="ref">RFC
    4880</span> <a href="http://tools.ietf.org/html/rfc4880#section-5.5.2">§
    5.5.2</a>.).</p>

  </div>

  <div class="indent"><h3 id="pubsub-node-configuration">6.2 PubSub Node Configuration<a class="anchor-link" href="#pubsub-node-configuration"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The Public-Key <em>metadata</em> node and the Secret-Key node SHOULD be configured to either
    never send the latest item, or to send the latest item only when a new entity subscribed. Thus
    the nodes 'send_last_published_item' configuration option SHOULD be set to either 'never' or
    'on_sub' (see <span class="ref">XEP-0060</span> <a href="https://xmpp.org/extensions/xep-0060.html#registrar-formtypes-config">§ 16.4.4</a>).</p>

  </div>

  <div class="indent"><h3 id="key-enforcement">6.3 Key Enforcement<a class="anchor-link" href="#key-enforcement"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">Whenever an entity becomes aware that the metadata node has changed (e.g., by receiving a PEP
    update from their own account), it SHOULD check that the list contains the key they use. If the
    key has been removed, the entity SHOULD reannounce it.</p>

  </div>

<h2 id="implementors-advice">7.
       Implementors Advice<a class="anchor-link" href="#implementors-advice"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><h3 id="design-and-techniques">7.1 Design Principles and Techniques<a class="anchor-link" href="#design-and-techniques"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">OpenPGP implementations have a sad history of being not very
    user-friendly which results in users either not using OpenPGP or in
    users wrongly using OpenPGP. Implementors of this XEP, and
    additional future XEPs based on this XEP, therefore should read
    <span class="ref" style=""><a href="http://g10code.com/steed.html">STEED</a></span> [<a href="#nt-idm340">14</a>]
    and <span class="ref" style=""><a href="https://www.cs.berkeley.edu/~tygar/papers/Why_Johnny_Cant_Encrypt/OReilly.pdf">"Why
    Johnny can't encrypt"</a></span> [<a href="#nt-idm344">15</a>]. Implementors
    of this XEP are encouraged to provide the concepts described in
    STEED:</p>

    <ul class="" style="">
      <li class="" style="">Automatic key generation</li>
      <li class="" style="">Automatic key distribution</li>
      <li class="" style="">Opportunistic encryption</li>
      <li class="" style="">Trust upon first contact</li>
    </ul>

    <p class="" style="">Furthermore implementors should design the user interface for
    effective security by following the design principles and
    techniques for security mentioned in "Why Johnny Can't
    Encrypt".</p>

  </div>

  <div class="indent"><h3 id="stanza-size">7.2 Stanza Size<a class="anchor-link" href="#stanza-size"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">Implementors should be aware that the size OpenPGP public and
    secret keys is somewhere in the range of tens of
    kilobytes. Applying Base64 encoding on keys, as it is described
    herein, further increases the size. The formula to determine the
    Base64 encoded size is: ceil(bytes / 3) * 4. Thus the lower bound
    for the maximum stanza size of 10000 bytes, as specified in <span class="ref">RFC
    6120</span> § 13.12. 4., is usually exceeded. However all XMPP server
    implementations, the authors are aware of, follow the
    recommendation of the RFC and do not blindly set the maximum
    stanza size to such a low value, but use a much higher
    threshold. Therefore, this should hardly be an issue for
    implementations. Nevertheless, it is advised to keep the size of
    OpenPGP keys small by removing all signatures except the most
    recent self-signature on each User ID before exporting the key
    (cf. GnuPG's <code>--export-options export-minimal</code>).
    In addition, implementors are advised to handle
    &lt;policy-violation/&gt; error responses when trying to
    transmit Base64 encoded keys.</p>

  </div>

  <div class="indent"><h3 id="xmpp-address-normalization">7.3 XMPP Address Normalization<a class="anchor-link" href="#xmpp-address-normalization"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The format of XMPP addresses, sometimes called JIDs, is well
    defined. Thus they need to be normalized, as defined in
    <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc7622">RFC 7622</a></span>  [<a href="#nt-idm360">16</a>]. When implementations are required to compare XMPP
    addresses for equality, as it is the case in <a href="#openpgp-verification">"Verification of &lt;openpgp/&gt;
    Content"</a>, then they also have to compare the normalized
    versions of the addresses.</p>

  </div>

<h2 id="rationale">8.
       Rationale<a class="anchor-link" href="#rationale"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><h3 id="key-handling">8.1 Key Handling<a class="anchor-link" href="#key-handling"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">This specification intentionally does not specify if the used
    OpenPGP key should be a primary key or a subkey. It is even
    possible to announce multiple public keys in the Personal Eventing
    Protocol node. Implementations MUST be prepared to find multiple
    public keys. The authors however believe that for ease of use only
    one OpenPGP key specially crafted for the XMPP use case should be
    created, announced and used.</p>

  </div>

  <div class="indent"><h3 id="openpgp-element-design">8.2 OpenPGP Element and Content Element Design<a class="anchor-link" href="#openpgp-element-design"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The &lt;openpgp/&gt; and OpenPGP content elements are container
    elements for arbitrary signed and encrypted data and can thus act
    as building blocks for encrypted data included in Message, IQ and
    Presence stanzas. For example, future specifications may use them
    to implement encrypted versions of <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0047.html">In-Band Bytestreams (XEP-0047)</a></span>  [<a href="#nt-idm370">17</a>] or <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0261.html">Jingle In-Band Bytestreams Transport Method (XEP-0261)</a></span>  [<a href="#nt-idm374">18</a>].</p>

    <p class="" style="">Note that signed OpenPGP messages already contain a timestamp
    as per the OpenPGP specification. OpenPGP content elements
    nevertheless require the 'time' element because not every OpenPGP
    API may provide access to the embedded OpenPGP timestamp.</p>

    <p class="" style="">The 'rpad' element of the OpenPGP content elements exists to
    prevent length-based side channel attacks.</p>

  </div>

  <div class="indent"><h3 id="solving-xep0027-issues">8.3 Addressing the Issues and Problems of XEP-0027<a class="anchor-link" href="#solving-xep0027-issues"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">This specification addresses all relevant issues of <span class="ref" style=""><a href="https://xmpp.org/extensions/xep-0027.html">Current Jabber OpenPGP Usage (XEP-0027)</a></span>  [<a href="#nt-idm382">19</a>]
    (<a href="https://xmpp.org/extensions/xep-0027.html#security">§
    4</a>, <a href="https://xmpp.org/extensions/xep-0027.html#issues">§
    5</a>). It mitigates replay attacks by including the
    recipient's address and a timestamp in the OpenPGP content
    element [<a href="#nt-idm386">20</a>]. It allows for both, signing and
    encrypting of the element. The scope of the specification was
    deliberately limited to OpenPGP.</p>

    <p class="" style="">Features like signed presences, which is provided by <span class="ref">XEP-0027</span>,
    may be added later on as add-on XEP to this.</p>

  </div>

  <div class="indent"><h3 id="openpgp-ascii-armor">8.4 Not using OpenPGP ASCII Armor<a class="anchor-link" href="#openpgp-ascii-armor"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">We decided against OpenPGP ASCII Armor (which contains an
    additional checksum) and in favor for Base64, because
    encoding should be part of the network application rather than the
    crypto layer. Also XMPP, needs no additional error correction of payload.
    In "MIME Security with OpenPGP" (<span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3156">RFC 3156</a></span>  [<a href="#nt-idm393">21</a>]), ASCII Armor
    has only been chosen to be backwards compatible with legacy applications
    supporting non-MIME OpenPGP emails only.</p>

  </div>

  <div class="indent"><h3 id="openpgp-user-ids">8.5 OpenPGP User IDs<a class="anchor-link" href="#openpgp-user-ids"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">OpenPGP User IDs normally consist of a name - email address pair, e.g.,
      "Juliet &lt;juliet@example.org&gt;" (<span class="ref">RFC 4880</span> <a href="http://tools.ietf.org/html/rfc4880#section-5.11">§ 5.11</a>).
    For this XEP, we require User IDs of the format "xmpp:juliet@example.org".
    First, it is required to have at least one User ID indicating the use
    of this OpenPGP key. When doing certification of keys (key signing),
    the partner must know what User ID she actually certifies.
    Second, this format uses the standardized URI from <span class="ref">XEP-0147</span> to indicate
    that this User ID corresponds to a key that is used for XMPP.
    Third, having the Real Name inside provides no additional security
    or guideline if this key should be certified. The XMPP address
    is the only trust anchor here.</p>

    </div>

<h2 id="security">9.
       Security Considerations<a class="anchor-link" href="#security"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">The scope of this XEP is intentionally limited, so that the
  specification just defines way for XMPP entities to discover,
  announce and synchronize OpenPGP keys, and how to exchange signed
  and encrypted data between two or more parties. Everything else is
  outside its scope. For example, how 'secure' the key material is
  protected on the endpoints is up to the implementation.</p>

  <p class="" style="">And while this XEP specifies a mechanism how to discover and
  retrieve a public key, it does not define how the trust relation to
  this key should be established. Even if key discovery and retrieval
  over XMPP provides a stronger coupling between the possessing entity
  (the XMPP address) and the key, as compared to the OpenPGP keyservers,
  how a XMPP server authenticates a remote server is a server policy,
  which does vary from server to server. Implementation MUST provide a
  way for the user to establish and assign trust to a public key. For
  example by using a QR code shown on the recipient's device screen.</p>

  <p class="" style="">Besides the protocol defined herein, OpenPGP implementations are
  another big attack surface. Needless to say that the security of
  encrypted data exchanged using this protocol depends on the security
  of the used OpenPGP implementation. It is strongly RECOMMENED to use
  existing implementations instead of writing your own. OpenPGP
  implementations have suffered from various vulnerabilities in the past
  which opened up DoS attack vectors. For example <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2013-4402">CVE-2013-4402</a>
  and <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-4617">CVE-2014-4717</a>.</p>

<h2 id="iana">10.
       IANA Considerations<a class="anchor-link" href="#iana"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">This document requires no interaction with the <span class="ref" style=""><a href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a></span>  [<a href="#nt-idm410">22</a>].</p>

<h2 id="registrar">11.
       XMPP Registrar Considerations<a class="anchor-link" href="#registrar"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <div class="indent"><h3 id="registrar-ns">11.1 Protocol Namespaces<a class="anchor-link" href="#registrar-ns"><abbr title="Link to this point in the document">¶</abbr></a></h3>

    <p class="" style="">The <span class="ref" style=""><a href="https://xmpp.org/registrar/">XMPP Registrar</a></span>  [<a href="#nt-idm417">23</a>] includes 'urn:xmpp:openpgp:0' in its registry of protocol namespaces (see &lt;<a href="https://xmpp.org/registrar/namespaces.html">https://xmpp.org/registrar/namespaces.html</a>&gt;).</p>

  </div>

<h2 id="schema">12.
       XML Schema<a class="anchor-link" href="#schema"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">TODO: Add after the XEP leaves the 'experimental' state.</p>

<h2 id="acknowledgements">13.
       Acknowledgements<a class="anchor-link" href="#acknowledgements"><abbr title="Link to this point in the document">¶</abbr></a></h2>

  <p class="" style="">Thanks to Emmanuel Gil Peyrot, Sergei Golovan, Marc Laporte, Georg
  Lukas, Adithya Abraham Philip, Brian Cully, fiaxh, Paul Schaub,
  Philipp Hörist and Stefan Kropp for their feedback.</p>

  <p class="" style="">The first draft of this specification was worked out and written
  on the wall of the 'Kymera' room in one of Google's buildings by the
  authors, consisting of members of the XMPP Standards Foundation and
  the OpenKeychain project, at the GSOC Mentors Summit 2015. The
  authors would like to thank Google for making it possible by
  bringing the right people together.</p>

<hr><a name="appendices"></a><h2>Appendices</h2><h3 id="appendix-docinfo">Appendix A: Document Information<a class="anchor-link" href="#appendix-docinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><dl class="compact"><dt>Series</dt><dd><a href="http://xmpp.org/extensions/">XEP</a></dd><dt>Number</dt><dd>0373</dd><dt>Publisher</dt><dd><a href="/xsf/">XMPP Standards Foundation</a></dd><dt>Status</dt><dd><a href="http://xmpp.org/extensions/xep-0001.html#states-Experimental">Experimental</a></dd><dt>Type</dt><dd><a href="http://xmpp.org/extensions/xep-0001.html#types-Standards%20Track">Standards Track</a></dd><dt>Version</dt><dd>0.6.0</dd><dt>Last Updated</dt><dd>2020-11-22</dd><dt>Approving Body</dt><dd><a href="http://xmpp.org/council/">XMPP Council</a></dd><dt>Dependencies</dt><dd>XMPP Core, XEP-0030, XEP-0082, XEP-0163, XEP-0223, XEP-0334</dd><dt>Supersedes</dt><dd>None</dd><dt>Superseded By</dt><dd>None</dd><dt>Short Name</dt><dd>ox</dd><dt>Source Control</dt><dd><a class="standardsButton" href="https://github.com/xsf/xeps/blob/master/xep-0373.xml">HTML</a></dd></dl><p>
          This document in other formats:
          <a class="standardsButton" href="http://xmpp.org/extensions/xep-0373.xml">XML</a> 
          <a class="standardsButton" href="http://xmpp.org/extensions/xep-0373.pdf">PDF</a></p><h3 id="appendix-authorinfo">Appendix B: Author Information<a class="anchor-link" href="#appendix-authorinfo"><abbr title="Link to this point in the document">¶</abbr></a></h3><h5>Florian Schmaus</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:flo@geekplace.eu">flo@geekplace.eu</a></dd><dt>JabberID</dt><dd><a href="xmpp:flo@geekplace.eu">flo@geekplace.eu</a></dd></dl><h5>Dominik Schürmann</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:dominik@dominikschuermann.de">dominik@dominikschuermann.de</a></dd><dt>JabberID</dt><dd><a href="xmpp:dominik@dominikschuermann.de">dominik@dominikschuermann.de</a></dd></dl><h5>Vincent Breitmoser</h5><dl class="compact"><dt>Email</dt><dd><a href="mailto:look@my.amazin.horse">look@my.amazin.horse</a></dd><dt>JabberID</dt><dd><a href="xmpp:valodim@stratum0.org">valodim@stratum0.org</a></dd></dl><h3 id="appendix-legal">Appendix C: Legal Notices<a class="anchor-link" href="#appendix-legal"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><h4>Copyright</h4><p>This XMPP Extension Protocol is copyright © 1999 – 2020 by the <a href="https://xmpp.org/">XMPP Standards Foundation</a> (XSF).</p><h4>Permissions</h4><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.</p><h4>Disclaimer of Warranty</h4><p class="box info">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. ##</p><h4>Limitation of Liability</h4><p>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.</p><h4>IPR Conformance</h4><p>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which can be found at &lt;<a href="https://xmpp.org/about/xsf/ipr-policy">https://xmpp.org/about/xsf/ipr-policy</a>&gt; or obtained by writing to XMPP Standards Foundation, P.O. Box 787, Parker, CO 80134 USA).</p><h4>Visual Presentation</h4><p>The HTML representation (you are looking at) is maintained by the XSF. It is based on the <a href="http://yaml.de">YAML CSS Framework</a>, which is licensed under the terms of the <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-SA 2.0</a> license.</p></div><h3 id="appendix-xmpp">Appendix D: Relation to XMPP<a class="anchor-link" href="#appendix-xmpp"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 6120) and XMPP IM (RFC 6121) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h3 id="appendix-discuss">Appendix E: Discussion Venue<a class="anchor-link" href="#appendix-discuss"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h3 id="appendix-conformance">Appendix F: Requirements Conformance<a class="anchor-link" href="#appendix-conformance"><abbr title="Link to this point in the document">¶</abbr></a></h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><h3 id="appendix-notes">Appendix G: Notes<a class="anchor-link" href="#appendix-notes"><abbr title="Link to this point in the document">¶</abbr></a></h3><div class="indent"><p><a name="nt-idm130">1</a>. XEP-0374: OpenPGP for XMPP Instant Messaging &lt;<a href="https://xmpp.org/extensions/xep-0374.html">https://xmpp.org/extensions/xep-0374.html</a>&gt;.</p><p><a name="nt-idm135">2</a>. XEP-0163: Personal Eventing Protocol &lt;<a href="https://xmpp.org/extensions/xep-0163.html">https://xmpp.org/extensions/xep-0163.html</a>&gt;.</p><p><a name="nt-idm140">3</a>. XEP-0045: Multi-User Chat &lt;<a href="https://xmpp.org/extensions/xep-0045.html">https://xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-idm176">4</a>. RFC 4648: The Base16, Base32, and Base64 Data Encodings &lt;<a href="http://tools.ietf.org/html/rfc4648">http://tools.ietf.org/html/rfc4648</a>&gt;.</p><p><a name="nt-idm181">5</a>. RFC 4880: OpenPGP Message Format &lt;<a href="http://tools.ietf.org/html/rfc4880">http://tools.ietf.org/html/rfc4880</a>&gt;.</p><p><a name="nt-idm185">6</a>. RFC 3629: UTF-8, a transformation format of ISO 10646 &lt;<a href="http://tools.ietf.org/html/rfc3629">http://tools.ietf.org/html/rfc3629</a>&gt;.</p><p><a name="nt-idm190">7</a>. Jee Hea An, Yevgeniy Dodis, and
    Tal Rabin. 2002. On the Security of Joint Signature and
    Encryption. In Proceedings of the International Conference on the
    Theory and Applications of Cryptographic Techniques: Advances in
    Cryptology (EUROCRYPT '02), Lars R. Knudsen
    (Ed.). Springer-Verlag, London, UK, UK, 83-107. &lt;<a href="https://www.iacr.org/archive/eurocrypt2002/23320080/adr.pdf">https://www.iacr.org/archive/eurocrypt2002/23320080/adr.pdf</a>&gt;</p><p><a name="nt-idm194">8</a>. XEP-0082: XMPP Date and Time Profiles &lt;<a href="https://xmpp.org/extensions/xep-0082.html">https://xmpp.org/extensions/xep-0082.html</a>&gt;.</p><p><a name="nt-idm238">9</a>. This matches the representation
    used by GnuPG minus the SPACE separation.</p><p><a name="nt-idm259">10</a>. XEP-0059: Result Set Management &lt;<a href="https://xmpp.org/extensions/xep-0059.html">https://xmpp.org/extensions/xep-0059.html</a>&gt;.</p><p><a name="nt-idm268">11</a>. XEP-0030: Service Discovery &lt;<a href="https://xmpp.org/extensions/xep-0030.html">https://xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-idm276">12</a>. XEP-0223: Best Practices for Persistent Storage of Private Data via Publish-Subscribe &lt;<a href="https://xmpp.org/extensions/xep-0223.html">https://xmpp.org/extensions/xep-0223.html</a>&gt;.</p><p><a name="nt-idm318">13</a>. RFC 4086: Randomness Requirements for Security &lt;<a href="http://tools.ietf.org/html/rfc4086">http://tools.ietf.org/html/rfc4086</a>&gt;.</p><p><a name="nt-idm340">14</a>. Koch,
    Werner, and Marcus Brinkman "STEED — Usable End-to-End
    Encryption", White Paper, g10 GmbH, 2011-10-17. &lt;<a href="http://g10code.com/steed.html">http://g10code.com/steed.html</a>&gt;</p><p><a name="nt-idm344">15</a>. Whitten, Alma, and
    J. Doug Tygar. "Why Johnny Can't Encrypt: A Usability Evaluation
    of PGP 5.0." Usenix Security. Vol. 1999. 1999. &lt;<a href="https://www.cs.berkeley.edu/~tygar/papers/Why_Johnny_Cant_Encrypt/OReilly.pdf">https://www.cs.berkeley.edu/~tygar/papers/Why_Johnny_Cant_Encrypt/OReilly.pdf</a>&gt;</p><p><a name="nt-idm360">16</a>. RFC 7622: Extensible Messaging and Presence Protocol (XMPP): Address Format &lt;<a href="http://tools.ietf.org/html/rfc7622">http://tools.ietf.org/html/rfc7622</a>&gt;.</p><p><a name="nt-idm370">17</a>. XEP-0047: In-Band Bytestreams &lt;<a href="https://xmpp.org/extensions/xep-0047.html">https://xmpp.org/extensions/xep-0047.html</a>&gt;.</p><p><a name="nt-idm374">18</a>. XEP-0261: Jingle In-Band Bytestreams Transport Method &lt;<a href="https://xmpp.org/extensions/xep-0261.html">https://xmpp.org/extensions/xep-0261.html</a>&gt;.</p><p><a name="nt-idm382">19</a>. XEP-0027: Current Jabber OpenPGP Usage &lt;<a href="https://xmpp.org/extensions/xep-0027.html">https://xmpp.org/extensions/xep-0027.html</a>&gt;.</p><p><a name="nt-idm386">20</a>. Full Replay attack prevention would require a
    counter based approach.</p><p><a name="nt-idm393">21</a>. RFC 3156: MIME Security with OpenPGP &lt;<a href="http://tools.ietf.org/html/rfc3156">http://tools.ietf.org/html/rfc3156</a>&gt;.</p><p><a name="nt-idm410">22</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p><p><a name="nt-idm417">23</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="https://xmpp.org/registrar/">https://xmpp.org/registrar/</a>&gt;.</p></div><h3 id="appendix-revs">Appendix H: Revision History<a class="anchor-link" href="#appendix-revs"><abbr title="Link to this point in the document">¶</abbr></a></h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><ol class="revision-history"><li id="revision-history-v0.6.0"><div class="revision-head">Version 0.6.0 (2020-11-22)<a class="anchor-link" href="#revision-history-v0.6.0"><abbr title="Link to this point in the document">¶</abbr></a></div>
      <p class="" style="">Fix 'to'-attribute requirements: All content elements which are signed using OpenPGP need
      that attribute to prevent Surreptitious Forward Attacks. The &lt;crypt/&gt; element does not require
      one, as the intented recipient is established by the encryption itself. The XEP had the
      requirements for &lt;sign/&gt; and &lt;crypt/&gt; mixed up.</p>
    <div class="revision-author">fs</div></li><li id="revision-history-v0.5.0"><div class="revision-head">Version 0.5.0 (2020-06-19)<a class="anchor-link" href="#revision-history-v0.5.0"><abbr title="Link to this point in the document">¶</abbr></a></div>
      <ul class="" style="">
        <li class="" style="">Use RFC 4880 terminology: it is "primary key", not "master key".</li>
        <li class="" style="">Clarify encryption of secret key material.</li>
        <li class="" style="">Move the information from the 'date' attribute into the item ID.</li>
      </ul>
    <div class="revision-author">fs</div></li><li id="revision-history-v0.4.0"><div class="revision-head">Version 0.4.0 (2018-07-30)<a class="anchor-link" href="#revision-history-v0.4.0"><abbr title="Link to this point in the document">¶</abbr></a></div>Fix node name in examples<div class="revision-author">ps</div></li><li id="revision-history-v0.3.3"><div class="revision-head">Version 0.3.3 (2018-07-30)<a class="anchor-link" href="#revision-history-v0.3.3"><abbr title="Link to this point in the document">¶</abbr></a></div>Improve note about OpenGPG fingerprint; editorial fixes<div class="revision-author">ps</div></li><li id="revision-history-v0.3.2"><div class="revision-head">Version 0.3.2 (2018-07-05)<a class="anchor-link" href="#revision-history-v0.3.2"><abbr title="Link to this point in the document">¶</abbr></a></div>Add example and small editorial fixes<div class="revision-author">ps</div></li><li id="revision-history-v0.3.1"><div class="revision-head">Version 0.3.1 (2018-05-21)<a class="anchor-link" href="#revision-history-v0.3.1"><abbr title="Link to this point in the document">¶</abbr></a></div>Fix slightly incorrect reference to RFC 4880<div class="revision-author">ps</div></li><li id="revision-history-v0.3.0"><div class="revision-head">Version 0.3.0 (2018-04-16)<a class="anchor-link" href="#revision-history-v0.3.0"><abbr title="Link to this point in the document">¶</abbr></a></div>
      Split public keys into metadata and data nodes.
    <div class="revision-author">fs</div></li><li id="revision-history-v0.2.1"><div class="revision-head">Version 0.2.1 (2017-11-13)<a class="anchor-link" href="#revision-history-v0.2.1"><abbr title="Link to this point in the document">¶</abbr></a></div>
      <ul class="" style="">
        <li class="" style="">Recommend setting the PubSub configuration field 'send_last_published_item' to 'on_sub'.</li>
        <li class="" style="">Only recommend persistent PubSub nodes.</li>
      </ul>
    <div class="revision-author">fs</div></li><li id="revision-history-v0.2"><div class="revision-head">Version 0.2 (2017-09-11)<a class="anchor-link" href="#revision-history-v0.2"><abbr title="Link to this point in the document">¶</abbr></a></div>Defer due to lack of activity.<div class="revision-author">XEP Editor (jwi)</div></li><li id="revision-history-v0.1.3"><div class="revision-head">Version 0.1.3 (2016-07-15)<a class="anchor-link" href="#revision-history-v0.1.3"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Update acknowledgements.</p><div class="revision-author">fs (XEP Editor: ssw)</div></li><li id="revision-history-v0.1.2"><div class="revision-head">Version 0.1.2 (2016-07-11)<a class="anchor-link" href="#revision-history-v0.1.2"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Minior editorial fixes.</p><div class="revision-author">bjc (XEP Editor: ssw)</div></li><li id="revision-history-v0.1.1"><div class="revision-head">Version 0.1.1 (2016-06-04)<a class="anchor-link" href="#revision-history-v0.1.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Minior editorial fixes.</p><div class="revision-author">fs</div></li><li id="revision-history-v0.1"><div class="revision-head">Version 0.1 (2016-05-10)<a class="anchor-link" href="#revision-history-v0.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">Initial published version approved by the XMPP Council.</p><div class="revision-author">XEP Editor (ssw)</div></li><li id="revision-history-v0.0.1"><div class="revision-head">Version 0.0.1 (2016-03-25)<a class="anchor-link" href="#revision-history-v0.0.1"><abbr title="Link to this point in the document">¶</abbr></a></div><p class="" style="">First draft.</p><div class="revision-author">fs</div></li></ol><p>END</p></body></html>
